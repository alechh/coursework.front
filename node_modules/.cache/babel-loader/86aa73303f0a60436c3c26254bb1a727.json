{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar constants_1 = require(\"./constants\");\n\nvar InternalDateValidator_1 = tslib_1.__importDefault(require(\"./InternalDateValidator\"));\n\nvar types_1 = require(\"./types\");\n\nvar InternalDateTransformer =\n/** @class */\nfunction () {\n  function InternalDateTransformer() {}\n\n  InternalDateTransformer.dateToFragments = function (components, settings) {\n    if (settings === void 0) {\n      settings = {};\n    }\n\n    var _a = settings.order,\n        order = _a === void 0 ? constants_1.defaultDateComponentsOrder : _a,\n        _b = settings.separator,\n        separator = _b === void 0 ? constants_1.defaultDateComponentsSeparator : _b,\n        _c = settings.withSeparator,\n        withSeparator = _c === void 0 ? false : _c,\n        _d = settings.withPad,\n        withPad = _d === void 0 ? false : _d,\n        pad = settings.pad;\n    var year = {\n      type: types_1.InternalDateComponentType.Year,\n      value: components.year,\n      length: constants_1.LENGTH_YEAR\n    };\n    var month = {\n      type: types_1.InternalDateComponentType.Month,\n      value: components.month,\n      length: constants_1.LENGTH_MONTH\n    };\n    var date = {\n      type: types_1.InternalDateComponentType.Date,\n      value: components.date,\n      length: constants_1.LENGTH_DATE\n    };\n    var fragments = [];\n\n    if (order === types_1.InternalDateOrder.YMD) {\n      fragments.push(year, month, date);\n    } else if (order === types_1.InternalDateOrder.MDY) {\n      fragments.push(month, date, year);\n    } else if (order === types_1.InternalDateOrder.DMY) {\n      fragments.push(date, month, year);\n    }\n\n    if (withPad) {\n      year.valueWithPad = InternalDateTransformer.padYear(year.value, pad);\n      month.valueWithPad = InternalDateTransformer.padMonth(month.value, pad);\n      date.valueWithPad = InternalDateTransformer.padDate(date.value, pad);\n    }\n\n    year.isValid = InternalDateValidator_1[\"default\"].testParseToNumber(year.value);\n    month.isValid = InternalDateValidator_1[\"default\"].testParseToNumber(month.value);\n    date.isValid = InternalDateValidator_1[\"default\"].testParseToNumber(date.value);\n\n    if (withSeparator) {\n      var separatorFragment = {\n        type: types_1.InternalDateComponentType.Separator,\n        value: separator,\n        length: constants_1.LENGTH_SEPARATOR\n      };\n      fragments.splice(1, 0, separatorFragment);\n      fragments.splice(3, 0, separatorFragment);\n    }\n\n    return fragments;\n  };\n\n  InternalDateTransformer.parseValueToDate = function (value, order) {\n    if (order === void 0) {\n      order = constants_1.defaultDateComponentsOrder;\n    }\n\n    if (!value) {\n      return null;\n    }\n\n    var re = order === types_1.InternalDateOrder.MDY ? constants_1.RE_ORDER_MDY : order === types_1.InternalDateOrder.DMY ? constants_1.RE_ORDER_DMY : constants_1.RE_ORDER_YMD;\n\n    if (!re.test(value)) {\n      return null;\n    }\n\n    var match = re.exec(value);\n\n    var dateComponents = tslib_1.__assign({}, constants_1.emptyDateComponents);\n\n    if (match) {\n      var matchFinished = match.slice(1).map(function (item) {\n        return InternalDateValidator_1[\"default\"].testParseToNumber(item) ? Number(item) : null;\n      });\n\n      if (order === types_1.InternalDateOrder.YMD) {\n        dateComponents.year = matchFinished[0], dateComponents.month = matchFinished[1], dateComponents.date = matchFinished[2];\n      } else if (order === types_1.InternalDateOrder.MDY) {\n        dateComponents.year = matchFinished[2], dateComponents.month = matchFinished[0], dateComponents.date = matchFinished[1];\n      } else if (order === types_1.InternalDateOrder.DMY) {\n        dateComponents.year = matchFinished[2], dateComponents.month = matchFinished[1], dateComponents.date = matchFinished[0];\n      }\n    }\n\n    return dateComponents;\n  };\n\n  InternalDateTransformer.dateComponentsStringToNumber = function (componentsRaw) {\n    if (componentsRaw === null) {\n      return {\n        year: 0,\n        month: 0,\n        date: 0\n      };\n    }\n\n    var year = componentsRaw.year,\n        month = componentsRaw.month,\n        date = componentsRaw.date;\n    return {\n      year: Number(year),\n      month: Number(month),\n      date: Number(date)\n    };\n  };\n\n  InternalDateTransformer.dateToInternalString = function (components) {\n    return InternalDateTransformer.dateToFragments(components, {\n      withPad: true,\n      withSeparator: false,\n      order: types_1.InternalDateOrder.DMY\n    }).filter(function (_a) {\n      var value = _a.value;\n      return value !== null;\n    }).map(function (_a) {\n      var valueWithPad = _a.valueWithPad;\n      return valueWithPad;\n    }).join(types_1.InternalDateSeparator.Dot);\n  };\n\n  InternalDateTransformer.padStart = function (value, length, pad) {\n    if (pad === void 0) {\n      pad = constants_1.CHAR_PAD;\n    }\n\n    return String(value || '').padStart(length, pad);\n  };\n\n  InternalDateTransformer.padYear = function (year, pad) {\n    return InternalDateTransformer.padStart(year, constants_1.LENGTH_YEAR, pad);\n  };\n\n  InternalDateTransformer.padMonth = function (month, pad) {\n    return InternalDateTransformer.padStart(month, constants_1.LENGTH_MONTH, pad);\n  };\n\n  InternalDateTransformer.padDate = function (date, pad) {\n    return InternalDateTransformer.padStart(date, constants_1.LENGTH_DATE, pad);\n  };\n\n  InternalDateTransformer.padDateComponent = function (type, value, pad) {\n    if (type === types_1.InternalDateComponentType.Year) {\n      return InternalDateTransformer.padYear(value, pad);\n    } else if (type === types_1.InternalDateComponentType.Month) {\n      return InternalDateTransformer.padMonth(value, pad);\n    } else if (type === types_1.InternalDateComponentType.Date) {\n      return InternalDateTransformer.padDate(value, pad);\n    }\n\n    return '';\n  };\n\n  return InternalDateTransformer;\n}();\n\nexports[\"default\"] = InternalDateTransformer;","map":{"version":3,"sources":["/home/aleksandr/coursework.front/node_modules/@skbkontur/react-ui/lib/date/InternalDateTransformer.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","constants_1","InternalDateValidator_1","__importDefault","types_1","InternalDateTransformer","dateToFragments","components","settings","_a","order","defaultDateComponentsOrder","_b","separator","defaultDateComponentsSeparator","_c","withSeparator","_d","withPad","pad","year","type","InternalDateComponentType","Year","length","LENGTH_YEAR","month","Month","LENGTH_MONTH","date","Date","LENGTH_DATE","fragments","InternalDateOrder","YMD","push","MDY","DMY","valueWithPad","padYear","padMonth","padDate","isValid","testParseToNumber","separatorFragment","Separator","LENGTH_SEPARATOR","splice","parseValueToDate","re","RE_ORDER_MDY","RE_ORDER_DMY","RE_ORDER_YMD","test","match","exec","dateComponents","__assign","emptyDateComponents","matchFinished","slice","map","item","Number","dateComponentsStringToNumber","componentsRaw","dateToInternalString","filter","join","InternalDateSeparator","Dot","padStart","CHAR_PAD","String","padDateComponent"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar constants_1 = require(\"./constants\");\nvar InternalDateValidator_1 = tslib_1.__importDefault(require(\"./InternalDateValidator\"));\nvar types_1 = require(\"./types\");\nvar InternalDateTransformer = /** @class */function () {\n  function InternalDateTransformer() {\n  }\n  InternalDateTransformer.dateToFragments = function (components, settings) {\n    if (settings === void 0) {settings = {};}\n    var _a = settings.order,order = _a === void 0 ? constants_1.defaultDateComponentsOrder : _a,_b = settings.separator,separator = _b === void 0 ? constants_1.defaultDateComponentsSeparator : _b,_c = settings.withSeparator,withSeparator = _c === void 0 ? false : _c,_d = settings.withPad,withPad = _d === void 0 ? false : _d,pad = settings.pad;\n    var year = {\n      type: types_1.InternalDateComponentType.Year,\n      value: components.year,\n      length: constants_1.LENGTH_YEAR };\n\n    var month = {\n      type: types_1.InternalDateComponentType.Month,\n      value: components.month,\n      length: constants_1.LENGTH_MONTH };\n\n    var date = {\n      type: types_1.InternalDateComponentType.Date,\n      value: components.date,\n      length: constants_1.LENGTH_DATE };\n\n    var fragments = [];\n    if (order === types_1.InternalDateOrder.YMD) {\n      fragments.push(year, month, date);\n    } else\n    if (order === types_1.InternalDateOrder.MDY) {\n      fragments.push(month, date, year);\n    } else\n    if (order === types_1.InternalDateOrder.DMY) {\n      fragments.push(date, month, year);\n    }\n    if (withPad) {\n      year.valueWithPad = InternalDateTransformer.padYear(year.value, pad);\n      month.valueWithPad = InternalDateTransformer.padMonth(month.value, pad);\n      date.valueWithPad = InternalDateTransformer.padDate(date.value, pad);\n    }\n    year.isValid = InternalDateValidator_1[\"default\"].testParseToNumber(year.value);\n    month.isValid = InternalDateValidator_1[\"default\"].testParseToNumber(month.value);\n    date.isValid = InternalDateValidator_1[\"default\"].testParseToNumber(date.value);\n    if (withSeparator) {\n      var separatorFragment = {\n        type: types_1.InternalDateComponentType.Separator,\n        value: separator,\n        length: constants_1.LENGTH_SEPARATOR };\n\n      fragments.splice(1, 0, separatorFragment);\n      fragments.splice(3, 0, separatorFragment);\n    }\n    return fragments;\n  };\n  InternalDateTransformer.parseValueToDate = function (value, order) {\n    if (order === void 0) {order = constants_1.defaultDateComponentsOrder;}\n    if (!value) {\n      return null;\n    }\n    var re = order === types_1.InternalDateOrder.MDY ? constants_1.RE_ORDER_MDY : order === types_1.InternalDateOrder.DMY ? constants_1.RE_ORDER_DMY : constants_1.RE_ORDER_YMD;\n    if (!re.test(value)) {\n      return null;\n    }\n    var match = re.exec(value);\n    var dateComponents = tslib_1.__assign({}, constants_1.emptyDateComponents);\n    if (match) {\n      var matchFinished = match.\n      slice(1).\n      map(function (item) {return InternalDateValidator_1[\"default\"].testParseToNumber(item) ? Number(item) : null;});\n      if (order === types_1.InternalDateOrder.YMD) {\n        dateComponents.year = matchFinished[0], dateComponents.month = matchFinished[1], dateComponents.date = matchFinished[2];\n      } else\n      if (order === types_1.InternalDateOrder.MDY) {\n        dateComponents.year = matchFinished[2], dateComponents.month = matchFinished[0], dateComponents.date = matchFinished[1];\n      } else\n      if (order === types_1.InternalDateOrder.DMY) {\n        dateComponents.year = matchFinished[2], dateComponents.month = matchFinished[1], dateComponents.date = matchFinished[0];\n      }\n    }\n    return dateComponents;\n  };\n  InternalDateTransformer.dateComponentsStringToNumber = function (componentsRaw) {\n    if (componentsRaw === null) {\n      return { year: 0, month: 0, date: 0 };\n    }\n    var year = componentsRaw.year,month = componentsRaw.month,date = componentsRaw.date;\n    return { year: Number(year), month: Number(month), date: Number(date) };\n  };\n  InternalDateTransformer.dateToInternalString = function (components) {\n    return InternalDateTransformer.dateToFragments(components, {\n      withPad: true,\n      withSeparator: false,\n      order: types_1.InternalDateOrder.DMY }).\n\n    filter(function (_a) {\n      var value = _a.value;\n      return value !== null;\n    }).\n    map(function (_a) {\n      var valueWithPad = _a.valueWithPad;\n      return valueWithPad;\n    }).\n    join(types_1.InternalDateSeparator.Dot);\n  };\n  InternalDateTransformer.padStart = function (value, length, pad) {\n    if (pad === void 0) {pad = constants_1.CHAR_PAD;}\n    return String(value || '').padStart(length, pad);\n  };\n  InternalDateTransformer.padYear = function (year, pad) {\n    return InternalDateTransformer.padStart(year, constants_1.LENGTH_YEAR, pad);\n  };\n  InternalDateTransformer.padMonth = function (month, pad) {\n    return InternalDateTransformer.padStart(month, constants_1.LENGTH_MONTH, pad);\n  };\n  InternalDateTransformer.padDate = function (date, pad) {\n    return InternalDateTransformer.padStart(date, constants_1.LENGTH_DATE, pad);\n  };\n  InternalDateTransformer.padDateComponent = function (type, value, pad) {\n    if (type === types_1.InternalDateComponentType.Year) {\n      return InternalDateTransformer.padYear(value, pad);\n    } else\n    if (type === types_1.InternalDateComponentType.Month) {\n      return InternalDateTransformer.padMonth(value, pad);\n    } else\n    if (type === types_1.InternalDateComponentType.Date) {\n      return InternalDateTransformer.padDate(value, pad);\n    }\n    return '';\n  };\n  return InternalDateTransformer;\n}();\nexports[\"default\"] = InternalDateTransformer;"]},"metadata":{},"sourceType":"script"}