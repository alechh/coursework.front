{"ast":null,"code":"var _jsxFileName = \"/home/aleksandr/coursework.front/src/Components/MainWindow/MainWindowComponents/Content/RequireCriticList/RequireCriticList.tsx\";\nimport React, { Component } from 'react';\nimport './RequireCriticList.css';\nimport RequireCriticItem from './RequireCriticItem';\nimport Center from '@skbkontur/react-ui/Center';\nimport Spinner from '@skbkontur/react-ui/Spinner';\nimport Typography from '@material-ui/core/Typography'; //student\n\nimport requireData from '../../../../../TestData/Student/requireCriticData'; //teacher\n\nclass RequireCriticList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.whichData = () => {\n      switch (this.props.role) {\n        case 'student':\n          {\n            //---------------------------------------------------\n            // Запрос списка работ, требующих рецензии, по userId\n            //---------------------------------------------------\n            return this.setState({\n              data: requireData\n            });\n          }\n\n        case 'teacher':\n          {//---------------------------------------------------\n            // Запрос списка работ, требующих рецензии, по userId\n            //---------------------------------------------------\n            //return (this.setState({data : teacherRequireCritic}))\n          }\n      }\n    };\n\n    this.state = {\n      data: [{}],\n      isLoading: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    this.whichData();\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  renderRequireCriticList() {\n    var _this$state$data;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, (_this$state$data = this.state.data) === null || _this$state$data === void 0 ? void 0 : _this$state$data.map(item => {\n      return /*#__PURE__*/React.createElement(RequireCriticItem, {\n        userId: this.props.userId,\n        data: item,\n        changePage: this.props.changePage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 28\n        }\n      });\n    }), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  renderEmptyList() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginTop: '10vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, \"\\u041D\\u0435\\u0442 \\u0440\\u0430\\u0431\\u043E\\u0442, \\u0442\\u0440\\u0435\\u0431\\u0443\\u044E\\u0449\\u0438\\u0445 \\u0440\\u0435\\u0446\\u0435\\u043D\\u0437\\u0438\\u0438\"));\n  }\n\n  isEmpty(obj) {\n    return Object.keys(obj[0]).length === 0;\n  }\n\n  render() {\n    return !this.isEmpty(this.state.data) ? !this.state.isLoading ? this.renderRequireCriticList() : /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '60vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Center, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 50\n      }\n    }, /*#__PURE__*/React.createElement(Spinner, {\n      type: \"big\",\n      caption: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 58\n      }\n    }))) : this.renderEmptyList();\n  }\n\n}\n\nexport default RequireCriticList;","map":{"version":3,"sources":["/home/aleksandr/coursework.front/src/Components/MainWindow/MainWindowComponents/Content/RequireCriticList/RequireCriticList.tsx"],"names":["React","Component","RequireCriticItem","Center","Spinner","Typography","requireData","RequireCriticList","constructor","props","whichData","role","setState","data","state","isLoading","componentDidMount","renderRequireCriticList","map","item","userId","changePage","renderEmptyList","textAlign","marginTop","isEmpty","obj","Object","keys","length","render","height"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './RequireCriticList.css'\nimport RequireCriticItem from './RequireCriticItem'\nimport Center from '@skbkontur/react-ui/Center'\nimport Spinner from '@skbkontur/react-ui/Spinner'\nimport Typography from '@material-ui/core/Typography'\n\n//student\nimport requireData from '../../../../../TestData/Student/requireCriticData'\n\n//teacher\nimport teacherRequireCritic from '../../../../../TestData/Teacher/requireCriticData'\n\ninterface Idata{\n    title?: string,\n    teacher?: string,\n    teacherContacts?: string,\n    description?: string, \n    reportFile?: string,\n    presentationFile?: string,\n    consultantReportFile?: string,\n    link?: string,\n    consultant?: string,\n    consultantContacts?: string,\n    status?: string,\n    switcher?: string,\n    id?: number\n}\n\ninterface Props{\n    role?: string,\n    changePage(event : React.MouseEvent<HTMLButtonElement>) : void,\n    userId?: number\n}\n\ninterface State{\n    data?: Idata[],\n    isLoading?: boolean\n}\n\nclass RequireCriticList extends Component<Props,State>{\n    constructor(props : Props){\n        super(props);\n        this.state={\n            data : [{}],\n            isLoading : false\n        }\n    }\n\n    componentDidMount(){\n        this.setState({isLoading : true})\n        this.whichData()\n        this.setState({isLoading : false})\n    }\n\n    private whichData = () =>{\n        switch(this.props.role){\n            case 'student':{\n                //---------------------------------------------------\n                // Запрос списка работ, требующих рецензии, по userId\n                //---------------------------------------------------\n\n                return (this.setState({data : requireData}))\n            }\n            case 'teacher':{\n                //---------------------------------------------------\n                // Запрос списка работ, требующих рецензии, по userId\n                //---------------------------------------------------\n\n                //return (this.setState({data : teacherRequireCritic}))\n            }\n        }\n    }\n\n    private renderRequireCriticList(){\n        return(\n            <div>\n                {this.state.data?.map(item => {\n                    return <RequireCriticItem \n                        userId = {this.props.userId}\n                        data={item} \n                        changePage={this.props.changePage}\n                    />})}\n                <hr/>\n            </div>\n        )\n    }\n\n    private renderEmptyList(){\n        return(\n            <div style={{textAlign:\"center\", marginTop: '10vh'}}>\n                <Typography variant='h5'>Нет работ, требующих рецензии</Typography>\n            </div>\n        )\n    }\n\n    private isEmpty(obj?: Idata[]) {\n        return Object.keys(obj![0]).length === 0;\n    }\n\n    render(){\n        return (\n            !this.isEmpty(this.state.data)?\n                !this.state.isLoading?\n                    this.renderRequireCriticList()\n                : <div style={{height : '60vh'}}><Center><Spinner type='big' caption='Загрузка'/></Center></div>\n            :   this.renderEmptyList()\n        )\n    }\n}\n\nexport default RequireCriticList"]},"metadata":{},"sourceType":"module"}