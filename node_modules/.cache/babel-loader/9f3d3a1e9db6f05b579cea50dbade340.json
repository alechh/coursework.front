{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar identifiers_1 = require(\"../../lib/events/keyboard/identifiers\");\n\nvar decorators_1 = require(\"../LocaleProvider/decorators\");\n\nvar React = tslib_1.__importStar(require(\"react\"));\n\nvar PropTypes = tslib_1.__importStar(require(\"prop-types\"));\n\nvar react_dom_1 = tslib_1.__importDefault(require(\"react-dom\"));\n\nvar Button_1 = tslib_1.__importDefault(require(\"../Button\"));\n\nvar DropdownContainer_1 = tslib_1.__importDefault(require(\"../DropdownContainer/DropdownContainer\"));\n\nvar filterProps_1 = tslib_1.__importDefault(require(\"../filterProps\"));\n\nvar Input_1 = tslib_1.__importDefault(require(\"../Input\"));\n\nvar invariant_1 = tslib_1.__importDefault(require(\"invariant\"));\n\nvar Link_1 = tslib_1.__importDefault(require(\"../Link\"));\n\nvar Menu_1 = tslib_1.__importDefault(require(\"../Menu/Menu\"));\n\nvar MenuItem_1 = tslib_1.__importDefault(require(\"../MenuItem/MenuItem\"));\n\nvar MenuSeparator_1 = tslib_1.__importDefault(require(\"../MenuSeparator/MenuSeparator\"));\n\nvar RenderLayer_1 = tslib_1.__importDefault(require(\"../RenderLayer\"));\n\nvar Item_1 = tslib_1.__importDefault(require(\"./Item\"));\n\nvar locale_1 = require(\"./locale\");\n\nvar Select_module_less_1 = tslib_1.__importDefault(require(\"./Select.module.css\"));\n\nvar createPropsGetter_1 = require(\"../internal/createPropsGetter\");\n\nvar utils_1 = require(\"../../lib/utils\");\n\nvar Emotion_1 = require(\"../../lib/theming/Emotion\");\n\nvar Select_styles_1 = tslib_1.__importDefault(require(\"./Select.styles\"));\n\nvar ThemeConsumer_1 = require(\"../ThemeConsumer\");\n\nvar PASS_BUTTON_PROPS = {\n  disabled: true,\n  error: true,\n  use: true,\n  size: true,\n  warning: true,\n  onMouseEnter: true,\n  onMouseLeave: true,\n  onMouseOver: true\n};\n\nvar Select =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Select, _super);\n\n  function Select() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      opened: false,\n      value: _this.props.defaultValue\n    };\n    _this.buttonElement = null;\n    _this.getProps = createPropsGetter_1.createPropsGetter(Select_1.defaultProps);\n    /**\r\n                                                                                    * @public\r\n                                                                                    */\n\n    _this.open = function () {\n      if (!_this.state.opened) {\n        _this.setState({\n          opened: true\n        });\n\n        if (_this.props.onOpen) {\n          _this.props.onOpen();\n        }\n      }\n    };\n    /**\r\n        * @public\r\n        */\n\n\n    _this.close = function () {\n      if (_this.state.opened) {\n        _this.setState({\n          opened: false\n        });\n\n        if (_this.props.onClose) {\n          _this.props.onClose();\n        }\n      }\n    };\n    /**\r\n        * @public\r\n        */\n\n\n    _this.focus = function () {\n      if (_this.buttonElement && _this.buttonElement.focus) {\n        _this.buttonElement.focus();\n      }\n    };\n\n    _this.dropdownContainerGetParent = function () {\n      return react_dom_1[\"default\"].findDOMNode(_this);\n    };\n\n    _this.focusInput = function (input) {\n      if (input) {\n        input.focus();\n      }\n    };\n\n    _this.refMenu = function (menu) {\n      _this.menu = menu;\n    };\n\n    _this.toggle = function () {\n      if (_this.state.opened) {\n        _this.close();\n      } else {\n        _this.open();\n      }\n    };\n\n    _this.handleKey = function (e) {\n      if (!_this.state.opened) {\n        if (identifiers_1.isKeySpace(e) || identifiers_1.isKeyArrowVertical(e)) {\n          e.preventDefault();\n\n          _this.open();\n        }\n      } else {\n        switch (true) {\n          case identifiers_1.isKeyEscape(e):\n            _this.focus();\n\n            _this.close();\n\n            break;\n\n          case identifiers_1.isKeyArrowUp(e):\n            e.preventDefault();\n\n            if (_this.menu) {\n              _this.menu.up();\n            }\n\n            break;\n\n          case identifiers_1.isKeyArrowDown(e):\n            e.preventDefault();\n\n            if (_this.menu) {\n              _this.menu.down();\n            }\n\n            break;\n\n          case identifiers_1.isKeyEnter(e):\n            e.preventDefault(); // To prevent form submission.\n\n            if (_this.menu) {\n              _this.menu.enter(e);\n            }\n\n            break;\n        }\n      }\n\n      if (_this.props.onKeyDown) {\n        _this.props.onKeyDown(e);\n      }\n    };\n\n    _this.handleSearch = function (event) {\n      _this.setState({\n        searchPattern: event.target.value\n      });\n    };\n\n    _this.buttonRef = function (element) {\n      _this.buttonElement = element;\n    };\n\n    _this.getButton = function (buttonParams) {\n      var button = _this.props._renderButton ? _this.props._renderButton(buttonParams) : _this.renderDefaultButton(buttonParams);\n      var buttonElement = React.Children.only(button);\n      return React.cloneElement(buttonElement, {\n        ref: function ref(element) {\n          _this.buttonRef(element);\n        },\n        onFocus: _this.props.onFocus,\n        onBlur: _this.props.onBlur\n      });\n    };\n\n    return _this;\n  }\n\n  Select_1 = Select;\n\n  Select.prototype.componentDidUpdate = function (_prevProps, prevState) {\n    if (!prevState.opened && this.state.opened) {\n      window.addEventListener('popstate', this.close);\n    }\n\n    if (prevState.opened && !this.state.opened) {\n      window.removeEventListener('popstate', this.close);\n    }\n  };\n\n  Select.prototype.render = function () {\n    var _this = this;\n\n    return React.createElement(ThemeConsumer_1.ThemeConsumer, null, function (theme) {\n      _this.theme = theme;\n      return _this.renderMain();\n    });\n  };\n\n  Select.prototype.renderMain = function () {\n    var _a = this.renderLabel(),\n        label = _a.label,\n        isPlaceholder = _a.isPlaceholder;\n\n    var buttonParams = {\n      opened: this.state.opened,\n      label: label,\n      isPlaceholder: isPlaceholder,\n      onClick: this.toggle,\n      onKeyDown: this.handleKey\n    };\n    var style = {\n      width: this.props.width,\n      maxWidth: this.props.maxWidth || undefined\n    };\n    var button = this.getButton(buttonParams);\n    return React.createElement(RenderLayer_1[\"default\"], {\n      onClickOutside: this.close,\n      onFocusOutside: this.close,\n      active: this.state.opened\n    }, React.createElement(\"span\", {\n      className: Select_module_less_1[\"default\"].root,\n      style: style\n    }, button, !this.props.disabled && this.state.opened && this.renderMenu()));\n  };\n\n  Select.prototype.renderLabel = function () {\n    var _a;\n\n    var value = this.getValue();\n    var item = this.getItemByValue(value);\n\n    if (item != null || value != null) {\n      return {\n        label: this.getProps().renderValue(value, item),\n        isPlaceholder: false\n      };\n    }\n\n    return {\n      label: React.createElement(\"span\", {\n        className: Emotion_1.cx((_a = {}, _a[Select_module_less_1[\"default\"].customUsePlaceholder] = this.props.use !== 'default', _a))\n      }, this.props.placeholder || this.locale.placeholder),\n      isPlaceholder: true\n    };\n  };\n\n  Select.prototype.renderDefaultButton = function (params) {\n    var _a;\n\n    if (this.props.diadocLinkIcon) {\n      return this.renderLinkButton(params);\n    }\n\n    var buttonProps = tslib_1.__assign({}, filterProps_1[\"default\"](this.props, PASS_BUTTON_PROPS), {\n      align: 'left',\n      disabled: this.props.disabled,\n      _noPadding: true,\n      width: '100%',\n      onClick: params.onClick,\n      onKeyDown: params.onKeyDown,\n      active: params.opened\n    });\n\n    if (this.props._icon) {\n      Object.assign(buttonProps, {\n        _noPadding: false,\n        _noRightPadding: true,\n        icon: this.props._icon\n      });\n    }\n\n    var labelProps = {\n      className: Emotion_1.cx((_a = {}, _a[Select_module_less_1[\"default\"].label] = this.props.use !== 'link', _a[Select_module_less_1[\"default\"].labelWithLeftIcon] = !!this.props._icon, _a[Select_module_less_1[\"default\"].placeholder] = params.isPlaceholder, _a[Select_styles_1[\"default\"].placeholder(this.theme)] = params.isPlaceholder, _a[Select_module_less_1[\"default\"].customUsePlaceholder] = params.isPlaceholder && this.props.use !== 'default', _a)),\n      style: {\n        paddingRight: (buttonProps.size === 'large' ? 31 : 28) + (!!this.props._icon ? 10 : 0)\n      }\n    };\n    var useIsCustom = this.props.use !== 'default';\n    return React.createElement(Button_1[\"default\"], tslib_1.__assign({}, buttonProps), React.createElement(\"span\", tslib_1.__assign({}, labelProps), React.createElement(\"span\", {\n      className: Select_module_less_1[\"default\"].labelText\n    }, params.label)), React.createElement(\"div\", {\n      className: Select_module_less_1[\"default\"].arrowWrap\n    }, React.createElement(\"div\", {\n      className: Emotion_1.cx(Select_module_less_1[\"default\"].arrow, Select_styles_1[\"default\"].arrow(this.theme), useIsCustom && Select_module_less_1[\"default\"].customUseArrow)\n    })));\n  };\n\n  Select.prototype.renderLinkButton = function (params) {\n    var linkProps = {\n      disabled: params.disabled,\n      icon: this.props.diadocLinkIcon,\n      _button: true,\n      _buttonOpened: params.opened,\n      onClick: params.onClick,\n      onKeyDown: params.onKeyDown\n    };\n    return React.createElement(Link_1[\"default\"], tslib_1.__assign({}, linkProps), params.label);\n  };\n\n  Select.prototype.renderMenu = function () {\n    var _this = this;\n\n    var search = this.props.search ? React.createElement(\"div\", {\n      className: Select_module_less_1[\"default\"].search\n    }, React.createElement(Input_1[\"default\"], {\n      ref: this.focusInput,\n      onChange: this.handleSearch\n    })) : null;\n    var value = this.getValue();\n    return React.createElement(DropdownContainer_1[\"default\"], {\n      getParent: this.dropdownContainerGetParent,\n      offsetY: -1,\n      align: this.props.menuAlign,\n      disablePortal: this.props.disablePortal\n    }, React.createElement(Menu_1[\"default\"], {\n      ref: this.refMenu,\n      width: this.props.menuWidth,\n      onItemClick: this.close,\n      maxHeight: this.props.maxMenuHeight\n    }, search, this.mapItems(function (iValue, item, i, comment) {\n      if (utils_1.isFunction(item)) {\n        var element = item();\n\n        if (React.isValidElement(element)) {\n          return React.cloneElement(element, {\n            key: i\n          });\n        }\n\n        return null;\n      }\n\n      if (React.isValidElement(item)) {\n        return React.cloneElement(item, {\n          key: i\n        });\n      }\n\n      return React.createElement(MenuItem_1[\"default\"], {\n        key: i,\n        state: _this.getProps().areValuesEqual(iValue, value) ? 'selected' : null,\n        onClick: _this.select.bind(_this, iValue),\n        comment: comment\n      }, _this.getProps().renderItem(iValue, item));\n    })));\n  };\n\n  Select.prototype.select = function (value) {\n    this.focus();\n    this.setState({\n      opened: false,\n      value: value\n    });\n\n    if (this.props.onChange && !this.getProps().areValuesEqual(this.getValue(), value)) {\n      this.props.onChange({\n        target: {\n          value: value\n        }\n      }, value);\n    }\n  };\n\n  Select.prototype.getValue = function () {\n    if (this.props.value !== undefined) {\n      return this.props.value;\n    }\n\n    return this.state.value;\n  };\n\n  Select.prototype.mapItems = function (fn) {\n    var items = this.props.items;\n\n    if (!items) {\n      return [];\n    }\n\n    var pattern = this.state.searchPattern && this.state.searchPattern.toLowerCase();\n    var result = [];\n    var index = 0;\n\n    for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n      var entry = items_1[_i];\n\n      var _a = normalizeEntry(entry),\n          value = _a[0],\n          item = _a[1],\n          comment = _a[2];\n\n      if (!pattern || this.getProps().filterItem(value, item, pattern)) {\n        result.push(fn(value, item, index, comment));\n        ++index;\n      }\n    }\n\n    return result;\n  };\n\n  Select.prototype.getItemByValue = function (value) {\n    if (value === null || value === undefined) {\n      return null;\n    }\n\n    var items = this.props.items || [];\n\n    for (var _i = 0, items_2 = items; _i < items_2.length; _i++) {\n      var entry = items_2[_i];\n\n      var _a = normalizeEntry(entry),\n          itemValue = _a[0],\n          item = _a[1];\n\n      if (this.getProps().areValuesEqual(itemValue, value)) {\n        return item;\n      }\n    }\n\n    return null;\n  };\n\n  var Select_1;\n  Select.__KONTUR_REACT_UI__ = 'Select';\n  Select.propTypes = {\n    /**\r\n                        * Функция для сравнения `value` с элементом из `items`\r\n                        */\n    areValuesEqual: PropTypes.func,\n    defaultValue: PropTypes.any,\n\n    /**\r\n                                  * Отключает использование портала\r\n                                  */\n    disablePortal: PropTypes.bool,\n    disabled: PropTypes.bool,\n\n    /**\r\n                               * Визуально показать наличие ошибки.\r\n                               */\n    error: PropTypes.bool,\n    filterItem: PropTypes.func,\n\n    /**\r\n                                 * Набор значений. Поддерживаются любые перечисляемые типы, в том числе\r\n                                 * `Array`, `Map`, `Immutable.Map`.\r\n                                 *\r\n                                 * Элементы воспринимаются следующим образом: если элемент — это массив, то\r\n                                 * первый элемент является значением , второй — отображается в списке,\r\n                                 * а третий – комментарий;\r\n                                 * если элемент не является массивом, то он используется и для отображения,\r\n                                 * и для значения.\r\n                                 *\r\n                                 * Для вставки разделителя можно использовать `Select.SEP`.\r\n                                 *\r\n                                 * Вставить невыделяемый элемент со своей разметкой можно так:\r\n                                 * ```\r\n                                 * <Select ...\r\n                                 *   items={[Select.static(() => <div>My Element</div>)]}\r\n                                 * />\r\n                                 * ```\r\n                                 *\r\n                                 * Чтобы добавить стандартный отступ для статического элемента:\r\n                                 * ```\r\n                                 * <Select.Item>My Element</Select.Item>\r\n                                 * ```?\r\n                                 */\n    items: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n    maxMenuHeight: PropTypes.number,\n    maxWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    placeholder: PropTypes.node,\n\n    /**\r\n                                  * Функция для отрисовки элемента в выпадающем списке. Аргументы — *value*,\r\n                                  * *item*.\r\n                                  */\n    renderItem: PropTypes.func,\n\n    /**\r\n                                 * Функция для отрисовки выбранного элемента. Аргументы — *value*, *item*.\r\n                                 */\n    renderValue: PropTypes.func,\n\n    /**\r\n                                  * Показывать строку поиска в списке.\r\n                                  */\n    search: PropTypes.bool,\n    value: PropTypes.any,\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    onChange: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onKeyDown: PropTypes.func\n  };\n  Select.defaultProps = {\n    renderValue: renderValue,\n    renderItem: renderItem,\n    areValuesEqual: areValuesEqual,\n    filterItem: filterItem,\n    use: 'default'\n  };\n  Select.Item = Item_1[\"default\"];\n\n  Select.SEP = function () {\n    return React.createElement(MenuSeparator_1[\"default\"], null);\n  };\n\n  Select[\"static\"] = function (element) {\n    invariant_1[\"default\"](React.isValidElement(element) || typeof element === 'function', 'Select.static(element) expects element to be a valid react element.');\n    return element;\n  };\n\n  Select = Select_1 = tslib_1.__decorate([decorators_1.locale('Select', locale_1.SelectLocaleHelper)], Select);\n  return Select;\n}(React.Component);\n\nfunction renderValue(value, item) {\n  return item;\n}\n\nfunction renderItem(value, item) {\n  return item;\n}\n\nfunction areValuesEqual(value1, value2) {\n  return value1 === value2;\n}\n\nfunction normalizeEntry(entry) {\n  if (Array.isArray(entry)) {\n    return entry;\n  } else {\n    return [entry, entry, undefined];\n  }\n}\n\nfunction filterItem(value, item, pattern) {\n  return item.toLowerCase().indexOf(pattern) !== -1;\n}\n\nexports[\"default\"] = Select;","map":{"version":3,"sources":["/home/aleksandr/coursework.front/node_modules/@skbkontur/react-ui/components/Select/Select.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","identifiers_1","decorators_1","React","__importStar","PropTypes","react_dom_1","__importDefault","Button_1","DropdownContainer_1","filterProps_1","Input_1","invariant_1","Link_1","Menu_1","MenuItem_1","MenuSeparator_1","RenderLayer_1","Item_1","locale_1","Select_module_less_1","createPropsGetter_1","utils_1","Emotion_1","Select_styles_1","ThemeConsumer_1","PASS_BUTTON_PROPS","disabled","error","use","size","warning","onMouseEnter","onMouseLeave","onMouseOver","Select","_super","__extends","_this","apply","arguments","state","opened","props","defaultValue","buttonElement","getProps","createPropsGetter","Select_1","defaultProps","open","setState","onOpen","close","onClose","focus","dropdownContainerGetParent","findDOMNode","focusInput","input","refMenu","menu","toggle","handleKey","e","isKeySpace","isKeyArrowVertical","preventDefault","isKeyEscape","isKeyArrowUp","up","isKeyArrowDown","down","isKeyEnter","enter","onKeyDown","handleSearch","event","searchPattern","target","buttonRef","element","getButton","buttonParams","button","_renderButton","renderDefaultButton","Children","only","cloneElement","ref","onFocus","onBlur","prototype","componentDidUpdate","_prevProps","prevState","window","addEventListener","removeEventListener","render","createElement","ThemeConsumer","theme","renderMain","_a","renderLabel","label","isPlaceholder","onClick","style","width","maxWidth","undefined","onClickOutside","onFocusOutside","active","className","root","renderMenu","getValue","item","getItemByValue","renderValue","cx","customUsePlaceholder","placeholder","locale","params","diadocLinkIcon","renderLinkButton","buttonProps","__assign","align","_noPadding","_icon","assign","_noRightPadding","icon","labelProps","labelWithLeftIcon","paddingRight","useIsCustom","labelText","arrowWrap","arrow","customUseArrow","linkProps","_button","_buttonOpened","search","onChange","getParent","offsetY","menuAlign","disablePortal","menuWidth","onItemClick","maxHeight","maxMenuHeight","mapItems","iValue","i","comment","isFunction","isValidElement","key","areValuesEqual","select","bind","renderItem","fn","items","pattern","toLowerCase","result","index","_i","items_1","length","entry","normalizeEntry","filterItem","push","items_2","itemValue","__KONTUR_REACT_UI__","propTypes","func","any","bool","oneOfType","array","object","number","string","node","Item","SEP","__decorate","SelectLocaleHelper","Component","value1","value2","Array","isArray","indexOf"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar identifiers_1 = require(\"../../lib/events/keyboard/identifiers\");\nvar decorators_1 = require(\"../LocaleProvider/decorators\");\nvar React = tslib_1.__importStar(require(\"react\"));\nvar PropTypes = tslib_1.__importStar(require(\"prop-types\"));\nvar react_dom_1 = tslib_1.__importDefault(require(\"react-dom\"));\nvar Button_1 = tslib_1.__importDefault(require(\"../Button\"));\nvar DropdownContainer_1 = tslib_1.__importDefault(require(\"../DropdownContainer/DropdownContainer\"));\nvar filterProps_1 = tslib_1.__importDefault(require(\"../filterProps\"));\nvar Input_1 = tslib_1.__importDefault(require(\"../Input\"));\nvar invariant_1 = tslib_1.__importDefault(require(\"invariant\"));\nvar Link_1 = tslib_1.__importDefault(require(\"../Link\"));\nvar Menu_1 = tslib_1.__importDefault(require(\"../Menu/Menu\"));\nvar MenuItem_1 = tslib_1.__importDefault(require(\"../MenuItem/MenuItem\"));\nvar MenuSeparator_1 = tslib_1.__importDefault(require(\"../MenuSeparator/MenuSeparator\"));\nvar RenderLayer_1 = tslib_1.__importDefault(require(\"../RenderLayer\"));\nvar Item_1 = tslib_1.__importDefault(require(\"./Item\"));\nvar locale_1 = require(\"./locale\");\nvar Select_module_less_1 = tslib_1.__importDefault(require(\"./Select.module.css\"));\nvar createPropsGetter_1 = require(\"../internal/createPropsGetter\");\nvar utils_1 = require(\"../../lib/utils\");\nvar Emotion_1 = require(\"../../lib/theming/Emotion\");\nvar Select_styles_1 = tslib_1.__importDefault(require(\"./Select.styles\"));\nvar ThemeConsumer_1 = require(\"../ThemeConsumer\");\nvar PASS_BUTTON_PROPS = {\n  disabled: true,\n  error: true,\n  use: true,\n  size: true,\n  warning: true,\n  onMouseEnter: true,\n  onMouseLeave: true,\n  onMouseOver: true };\n\nvar Select = /** @class */function (_super) {\n  tslib_1.__extends(Select, _super);\n  function Select() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      opened: false,\n      value: _this.props.defaultValue };\n\n    _this.buttonElement = null;\n    _this.getProps = createPropsGetter_1.createPropsGetter(Select_1.defaultProps);\n    /**\r\n                                                                                    * @public\r\n                                                                                    */\n    _this.open = function () {\n      if (!_this.state.opened) {\n        _this.setState({ opened: true });\n        if (_this.props.onOpen) {\n          _this.props.onOpen();\n        }\n      }\n    };\n    /**\r\n        * @public\r\n        */\n    _this.close = function () {\n      if (_this.state.opened) {\n        _this.setState({ opened: false });\n        if (_this.props.onClose) {\n          _this.props.onClose();\n        }\n      }\n    };\n    /**\r\n        * @public\r\n        */\n    _this.focus = function () {\n      if (_this.buttonElement && _this.buttonElement.focus) {\n        _this.buttonElement.focus();\n      }\n    };\n    _this.dropdownContainerGetParent = function () {\n      return react_dom_1[\"default\"].findDOMNode(_this);\n    };\n    _this.focusInput = function (input) {\n      if (input) {\n        input.focus();\n      }\n    };\n    _this.refMenu = function (menu) {\n      _this.menu = menu;\n    };\n    _this.toggle = function () {\n      if (_this.state.opened) {\n        _this.close();\n      } else\n      {\n        _this.open();\n      }\n    };\n    _this.handleKey = function (e) {\n      if (!_this.state.opened) {\n        if (identifiers_1.isKeySpace(e) || identifiers_1.isKeyArrowVertical(e)) {\n          e.preventDefault();\n          _this.open();\n        }\n      } else\n      {\n        switch (true) {\n          case identifiers_1.isKeyEscape(e):\n            _this.focus();\n            _this.close();\n            break;\n          case identifiers_1.isKeyArrowUp(e):\n            e.preventDefault();\n            if (_this.menu) {\n              _this.menu.up();\n            }\n            break;\n          case identifiers_1.isKeyArrowDown(e):\n            e.preventDefault();\n            if (_this.menu) {\n              _this.menu.down();\n            }\n            break;\n          case identifiers_1.isKeyEnter(e):\n            e.preventDefault(); // To prevent form submission.\n            if (_this.menu) {\n              _this.menu.enter(e);\n            }\n            break;}\n\n      }\n      if (_this.props.onKeyDown) {\n        _this.props.onKeyDown(e);\n      }\n    };\n    _this.handleSearch = function (event) {\n      _this.setState({ searchPattern: event.target.value });\n    };\n    _this.buttonRef = function (element) {\n      _this.buttonElement = element;\n    };\n    _this.getButton = function (buttonParams) {\n      var button = _this.props._renderButton ?\n      _this.props._renderButton(buttonParams) :\n      _this.renderDefaultButton(buttonParams);\n      var buttonElement = React.Children.only(button);\n      return React.cloneElement(buttonElement, {\n        ref: function ref(element) {\n          _this.buttonRef(element);\n        },\n        onFocus: _this.props.onFocus,\n        onBlur: _this.props.onBlur });\n\n    };\n    return _this;\n  }\n  Select_1 = Select;\n  Select.prototype.componentDidUpdate = function (_prevProps, prevState) {\n    if (!prevState.opened && this.state.opened) {\n      window.addEventListener('popstate', this.close);\n    }\n    if (prevState.opened && !this.state.opened) {\n      window.removeEventListener('popstate', this.close);\n    }\n  };\n  Select.prototype.render = function () {\n    var _this = this;\n    return React.createElement(ThemeConsumer_1.ThemeConsumer, null, function (theme) {\n      _this.theme = theme;\n      return _this.renderMain();\n    });\n  };\n  Select.prototype.renderMain = function () {\n    var _a = this.renderLabel(),label = _a.label,isPlaceholder = _a.isPlaceholder;\n    var buttonParams = {\n      opened: this.state.opened,\n      label: label,\n      isPlaceholder: isPlaceholder,\n      onClick: this.toggle,\n      onKeyDown: this.handleKey };\n\n    var style = {\n      width: this.props.width,\n      maxWidth: this.props.maxWidth || undefined };\n\n    var button = this.getButton(buttonParams);\n    return React.createElement(RenderLayer_1[\"default\"], { onClickOutside: this.close, onFocusOutside: this.close, active: this.state.opened },\n    React.createElement(\"span\", { className: Select_module_less_1[\"default\"].root, style: style },\n    button,\n    !this.props.disabled && this.state.opened && this.renderMenu()));\n  };\n  Select.prototype.renderLabel = function () {\n    var _a;\n    var value = this.getValue();\n    var item = this.getItemByValue(value);\n    if (item != null || value != null) {\n      return {\n        label: this.getProps().renderValue(value, item),\n        isPlaceholder: false };\n\n    }\n    return {\n      label: React.createElement(\"span\", { className: Emotion_1.cx((_a = {},\n        _a[Select_module_less_1[\"default\"].customUsePlaceholder] = this.props.use !== 'default',\n        _a)) }, this.props.placeholder || this.locale.placeholder),\n      isPlaceholder: true };\n\n  };\n  Select.prototype.renderDefaultButton = function (params) {\n    var _a;\n    if (this.props.diadocLinkIcon) {\n      return this.renderLinkButton(params);\n    }\n    var buttonProps = tslib_1.__assign({}, filterProps_1[\"default\"](this.props, PASS_BUTTON_PROPS), { align: 'left', disabled: this.props.disabled, _noPadding: true, width: '100%', onClick: params.onClick, onKeyDown: params.onKeyDown, active: params.opened });\n    if (this.props._icon) {\n      Object.assign(buttonProps, {\n        _noPadding: false,\n        _noRightPadding: true,\n        icon: this.props._icon });\n\n    }\n    var labelProps = {\n      className: Emotion_1.cx((_a = {},\n      _a[Select_module_less_1[\"default\"].label] = this.props.use !== 'link',\n      _a[Select_module_less_1[\"default\"].labelWithLeftIcon] = !!this.props._icon,\n      _a[Select_module_less_1[\"default\"].placeholder] = params.isPlaceholder,\n      _a[Select_styles_1[\"default\"].placeholder(this.theme)] = params.isPlaceholder,\n      _a[Select_module_less_1[\"default\"].customUsePlaceholder] = params.isPlaceholder && this.props.use !== 'default',\n      _a)),\n      style: {\n        paddingRight: (buttonProps.size === 'large' ? 31 : 28) + (!!this.props._icon ? 10 : 0) } };\n\n\n    var useIsCustom = this.props.use !== 'default';\n    return React.createElement(Button_1[\"default\"], tslib_1.__assign({}, buttonProps),\n    React.createElement(\"span\", tslib_1.__assign({}, labelProps),\n    React.createElement(\"span\", { className: Select_module_less_1[\"default\"].labelText }, params.label)),\n    React.createElement(\"div\", { className: Select_module_less_1[\"default\"].arrowWrap },\n    React.createElement(\"div\", { className: Emotion_1.cx(Select_module_less_1[\"default\"].arrow, Select_styles_1[\"default\"].arrow(this.theme), useIsCustom && Select_module_less_1[\"default\"].customUseArrow) })));\n  };\n  Select.prototype.renderLinkButton = function (params) {\n    var linkProps = {\n      disabled: params.disabled,\n      icon: this.props.diadocLinkIcon,\n      _button: true,\n      _buttonOpened: params.opened,\n      onClick: params.onClick,\n      onKeyDown: params.onKeyDown };\n\n    return React.createElement(Link_1[\"default\"], tslib_1.__assign({}, linkProps), params.label);\n  };\n  Select.prototype.renderMenu = function () {\n    var _this = this;\n    var search = this.props.search ? React.createElement(\"div\", { className: Select_module_less_1[\"default\"].search },\n    React.createElement(Input_1[\"default\"], { ref: this.focusInput, onChange: this.handleSearch })) : null;\n    var value = this.getValue();\n    return React.createElement(DropdownContainer_1[\"default\"], { getParent: this.dropdownContainerGetParent, offsetY: -1, align: this.props.menuAlign, disablePortal: this.props.disablePortal },\n    React.createElement(Menu_1[\"default\"], { ref: this.refMenu, width: this.props.menuWidth, onItemClick: this.close, maxHeight: this.props.maxMenuHeight },\n    search,\n    this.mapItems(function (iValue, item, i, comment) {\n      if (utils_1.isFunction(item)) {\n        var element = item();\n        if (React.isValidElement(element)) {\n          return React.cloneElement(element, { key: i });\n        }\n        return null;\n      }\n      if (React.isValidElement(item)) {\n        return React.cloneElement(item, { key: i });\n      }\n      return React.createElement(MenuItem_1[\"default\"], { key: i, state: _this.getProps().areValuesEqual(iValue, value) ? 'selected' : null, onClick: _this.select.bind(_this, iValue), comment: comment }, _this.getProps().renderItem(iValue, item));\n    })));\n  };\n  Select.prototype.select = function (value) {\n    this.focus();\n    this.setState({ opened: false, value: value });\n    if (this.props.onChange && !this.getProps().areValuesEqual(this.getValue(), value)) {\n      this.props.onChange({ target: { value: value } }, value);\n    }\n  };\n  Select.prototype.getValue = function () {\n    if (this.props.value !== undefined) {\n      return this.props.value;\n    }\n    return this.state.value;\n  };\n  Select.prototype.mapItems = function (fn) {\n    var items = this.props.items;\n    if (!items) {\n      return [];\n    }\n    var pattern = this.state.searchPattern && this.state.searchPattern.toLowerCase();\n    var result = [];\n    var index = 0;\n    for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n      var entry = items_1[_i];\n      var _a = normalizeEntry(entry),value = _a[0],item = _a[1],comment = _a[2];\n      if (!pattern || this.getProps().filterItem(value, item, pattern)) {\n        result.push(fn(value, item, index, comment));\n        ++index;\n      }\n    }\n    return result;\n  };\n  Select.prototype.getItemByValue = function (value) {\n    if (value === null || value === undefined) {\n      return null;\n    }\n    var items = this.props.items || [];\n    for (var _i = 0, items_2 = items; _i < items_2.length; _i++) {\n      var entry = items_2[_i];\n      var _a = normalizeEntry(entry),itemValue = _a[0],item = _a[1];\n      if (this.getProps().areValuesEqual(itemValue, value)) {\n        return item;\n      }\n    }\n    return null;\n  };\n  var Select_1;\n  Select.__KONTUR_REACT_UI__ = 'Select';\n  Select.propTypes = {\n    /**\r\n                        * Функция для сравнения `value` с элементом из `items`\r\n                        */\n    areValuesEqual: PropTypes.func,\n    defaultValue: PropTypes.any,\n    /**\r\n                                  * Отключает использование портала\r\n                                  */\n    disablePortal: PropTypes.bool,\n    disabled: PropTypes.bool,\n    /**\r\n                               * Визуально показать наличие ошибки.\r\n                               */\n    error: PropTypes.bool,\n    filterItem: PropTypes.func,\n    /**\r\n                                 * Набор значений. Поддерживаются любые перечисляемые типы, в том числе\r\n                                 * `Array`, `Map`, `Immutable.Map`.\r\n                                 *\r\n                                 * Элементы воспринимаются следующим образом: если элемент — это массив, то\r\n                                 * первый элемент является значением , второй — отображается в списке,\r\n                                 * а третий – комментарий;\r\n                                 * если элемент не является массивом, то он используется и для отображения,\r\n                                 * и для значения.\r\n                                 *\r\n                                 * Для вставки разделителя можно использовать `Select.SEP`.\r\n                                 *\r\n                                 * Вставить невыделяемый элемент со своей разметкой можно так:\r\n                                 * ```\r\n                                 * <Select ...\r\n                                 *   items={[Select.static(() => <div>My Element</div>)]}\r\n                                 * />\r\n                                 * ```\r\n                                 *\r\n                                 * Чтобы добавить стандартный отступ для статического элемента:\r\n                                 * ```\r\n                                 * <Select.Item>My Element</Select.Item>\r\n                                 * ```?\r\n                                 */\n    items: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n    maxMenuHeight: PropTypes.number,\n    maxWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    placeholder: PropTypes.node,\n    /**\r\n                                  * Функция для отрисовки элемента в выпадающем списке. Аргументы — *value*,\r\n                                  * *item*.\r\n                                  */\n    renderItem: PropTypes.func,\n    /**\r\n                                 * Функция для отрисовки выбранного элемента. Аргументы — *value*, *item*.\r\n                                 */\n    renderValue: PropTypes.func,\n    /**\r\n                                  * Показывать строку поиска в списке.\r\n                                  */\n    search: PropTypes.bool,\n    value: PropTypes.any,\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    onChange: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onKeyDown: PropTypes.func };\n\n  Select.defaultProps = {\n    renderValue: renderValue,\n    renderItem: renderItem,\n    areValuesEqual: areValuesEqual,\n    filterItem: filterItem,\n    use: 'default' };\n\n  Select.Item = Item_1[\"default\"];\n  Select.SEP = function () {return React.createElement(MenuSeparator_1[\"default\"], null);};\n  Select[\"static\"] = function (element) {\n    invariant_1[\"default\"](React.isValidElement(element) || typeof element === 'function', 'Select.static(element) expects element to be a valid react element.');\n    return element;\n  };\n  Select = Select_1 = tslib_1.__decorate([\n  decorators_1.locale('Select', locale_1.SelectLocaleHelper)],\n  Select);\n  return Select;\n}(React.Component);\nfunction renderValue(value, item) {\n  return item;\n}\nfunction renderItem(value, item) {\n  return item;\n}\nfunction areValuesEqual(value1, value2) {\n  return value1 === value2;\n}\nfunction normalizeEntry(entry) {\n  if (Array.isArray(entry)) {\n    return entry;\n  } else\n  {\n    return [entry, entry, undefined];\n  }\n}\nfunction filterItem(value, item, pattern) {\n  return item.toLowerCase().indexOf(pattern) !== -1;\n}\nexports[\"default\"] = Select;"]},"metadata":{},"sourceType":"script"}