{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar raf_1 = tslib_1.__importStar(require(\"raf\"));\n\nvar stepper_1 = require(\"./stepper\");\n\nvar noop = function noop() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n  /* do nothing */\n\n};\n\nexports.Animation = function () {\n  var animating = false;\n  var currentPosition = 0;\n  var currentVelocity = 0;\n  var rafId = 0;\n  var target = 0;\n  var deltaHandler = noop;\n  var animationEndHandler = noop;\n\n  function reset() {\n    currentVelocity = 0;\n    currentPosition = 0;\n    target = 0;\n    animating = false;\n    deltaHandler = noop;\n    animationEndHandler = noop;\n  }\n\n  function inProgress() {\n    return animating;\n  }\n\n  function cancel() {\n    raf_1.cancel(rafId);\n    reset();\n  }\n\n  function finish() {\n    animationEndHandler();\n    cancel();\n  }\n\n  function animate(amount, onDelta, onEnd) {\n    if (onEnd === void 0) {\n      onEnd = noop;\n    }\n\n    target += amount;\n    deltaHandler = onDelta;\n    animationEndHandler = onEnd;\n\n    var animateInternal = function animateInternal() {\n      animating = true;\n\n      var _a = stepper_1.stepper(currentPosition, currentVelocity, target),\n          nextPosition = _a[0],\n          nextVelocity = _a[1];\n\n      var delta = nextPosition - currentPosition;\n      deltaHandler(delta);\n\n      if (nextPosition === target && nextVelocity === 0) {\n        animationEndHandler();\n        reset();\n        return;\n      }\n\n      currentPosition = nextPosition;\n      currentVelocity = nextVelocity;\n      rafId = raf_1[\"default\"](animateInternal);\n    };\n\n    if (!inProgress()) {\n      animateInternal();\n    }\n  }\n\n  return {\n    animate: animate,\n    inProgress: inProgress,\n    cancel: cancel,\n    finish: finish\n  };\n};","map":{"version":3,"sources":["C:/Users/Sasha/Documents/coursework.front/node_modules/@skbkontur/react-ui/components/Calendar/Animation.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","raf_1","__importStar","stepper_1","noop","args","_i","arguments","length","Animation","animating","currentPosition","currentVelocity","rafId","target","deltaHandler","animationEndHandler","reset","inProgress","cancel","finish","animate","amount","onDelta","onEnd","animateInternal","_a","stepper","nextPosition","nextVelocity","delta"],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar raf_1 = tslib_1.__importStar(require(\"raf\"));\r\nvar stepper_1 = require(\"./stepper\");\r\nvar noop = function noop() {\r\n  var args = [];\r\n  for (var _i = 0; _i < arguments.length; _i++) {\r\n    args[_i] = arguments[_i];\r\n  }\r\n  /* do nothing */\r\n};\r\nexports.Animation = function () {\r\n  var animating = false;\r\n  var currentPosition = 0;\r\n  var currentVelocity = 0;\r\n  var rafId = 0;\r\n  var target = 0;\r\n  var deltaHandler = noop;\r\n  var animationEndHandler = noop;\r\n  function reset() {\r\n    currentVelocity = 0;\r\n    currentPosition = 0;\r\n    target = 0;\r\n    animating = false;\r\n    deltaHandler = noop;\r\n    animationEndHandler = noop;\r\n  }\r\n  function inProgress() {\r\n    return animating;\r\n  }\r\n  function cancel() {\r\n    raf_1.cancel(rafId);\r\n    reset();\r\n  }\r\n  function finish() {\r\n    animationEndHandler();\r\n    cancel();\r\n  }\r\n  function animate(amount, onDelta, onEnd) {\r\n    if (onEnd === void 0) {onEnd = noop;}\r\n    target += amount;\r\n    deltaHandler = onDelta;\r\n    animationEndHandler = onEnd;\r\n    var animateInternal = function animateInternal() {\r\n      animating = true;\r\n      var _a = stepper_1.stepper(currentPosition, currentVelocity, target),nextPosition = _a[0],nextVelocity = _a[1];\r\n      var delta = nextPosition - currentPosition;\r\n      deltaHandler(delta);\r\n      if (nextPosition === target && nextVelocity === 0) {\r\n        animationEndHandler();\r\n        reset();\r\n        return;\r\n      }\r\n      currentPosition = nextPosition;\r\n      currentVelocity = nextVelocity;\r\n      rafId = raf_1[\"default\"](animateInternal);\r\n    };\r\n    if (!inProgress()) {\r\n      animateInternal();\r\n    }\r\n  }\r\n  return {\r\n    animate: animate,\r\n    inProgress: inProgress,\r\n    cancel: cancel,\r\n    finish: finish };\r\n\r\n};"]},"metadata":{},"sourceType":"script"}