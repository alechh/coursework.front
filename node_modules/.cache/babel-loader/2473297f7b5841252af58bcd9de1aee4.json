{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar fbemitter_1 = require(\"fbemitter\");\n\nvar ModalStack =\n/** @class */\nfunction () {\n  function ModalStack() {}\n\n  ModalStack.add = function (component, onChange) {\n    var _a = ModalStack.getStackInfo(),\n        emitter = _a.emitter,\n        mounted = _a.mounted;\n\n    mounted.unshift(component);\n    var subscription = emitter.addListener('change', function () {\n      return onChange(mounted.slice());\n    });\n    emitter.emit('change');\n    return subscription;\n  };\n\n  ModalStack.remove = function (component) {\n    var _a = ModalStack.getStackInfo(),\n        emitter = _a.emitter,\n        mounted = _a.mounted;\n\n    var index = mounted.indexOf(component);\n\n    if (index !== -1) {\n      mounted.splice(index, 1);\n    }\n\n    emitter.emit('change');\n  };\n\n  ModalStack.getStackInfo = function () {\n    var globalWithStack = global;\n    return globalWithStack.__ReactUIStackInfo || (globalWithStack.__ReactUIStackInfo = {\n      emitter: new fbemitter_1.EventEmitter(),\n      mounted: []\n    });\n  };\n\n  return ModalStack;\n}();\n\nexports[\"default\"] = ModalStack;","map":{"version":3,"sources":["/home/aleksandr/coursework.front/node_modules/@skbkontur/react-ui/components/ModalStack/ModalStack.js"],"names":["Object","defineProperty","exports","value","fbemitter_1","require","ModalStack","add","component","onChange","_a","getStackInfo","emitter","mounted","unshift","subscription","addListener","slice","emit","remove","index","indexOf","splice","globalWithStack","global","__ReactUIStackInfo","EventEmitter"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,WAAW,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,IAAIC,UAAU;AAAG;AAAa,YAAY;AACxC,WAASA,UAAT,GAAsB,CACrB;;AACDA,EAAAA,UAAU,CAACC,GAAX,GAAiB,UAAUC,SAAV,EAAqBC,QAArB,EAA+B;AAC9C,QAAIC,EAAE,GAAGJ,UAAU,CAACK,YAAX,EAAT;AAAA,QAAmCC,OAAO,GAAGF,EAAE,CAACE,OAAhD;AAAA,QAAwDC,OAAO,GAAGH,EAAE,CAACG,OAArE;;AACAA,IAAAA,OAAO,CAACC,OAAR,CAAgBN,SAAhB;AACA,QAAIO,YAAY,GAAGH,OAAO,CAACI,WAAR,CAAoB,QAApB,EAA8B,YAAY;AAAC,aAAOP,QAAQ,CAACI,OAAO,CAACI,KAAR,EAAD,CAAf;AAAkC,KAA7E,CAAnB;AACAL,IAAAA,OAAO,CAACM,IAAR,CAAa,QAAb;AACA,WAAOH,YAAP;AACD,GAND;;AAOAT,EAAAA,UAAU,CAACa,MAAX,GAAoB,UAAUX,SAAV,EAAqB;AACvC,QAAIE,EAAE,GAAGJ,UAAU,CAACK,YAAX,EAAT;AAAA,QAAmCC,OAAO,GAAGF,EAAE,CAACE,OAAhD;AAAA,QAAwDC,OAAO,GAAGH,EAAE,CAACG,OAArE;;AACA,QAAIO,KAAK,GAAGP,OAAO,CAACQ,OAAR,CAAgBb,SAAhB,CAAZ;;AACA,QAAIY,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChBP,MAAAA,OAAO,CAACS,MAAR,CAAeF,KAAf,EAAsB,CAAtB;AACD;;AACDR,IAAAA,OAAO,CAACM,IAAR,CAAa,QAAb;AACD,GAPD;;AAQAZ,EAAAA,UAAU,CAACK,YAAX,GAA0B,YAAY;AACpC,QAAIY,eAAe,GAAGC,MAAtB;AACA,WAAOD,eAAe,CAACE,kBAAhB,KACPF,eAAe,CAACE,kBAAhB,GAAqC;AACnCb,MAAAA,OAAO,EAAE,IAAIR,WAAW,CAACsB,YAAhB,EAD0B;AAEnCb,MAAAA,OAAO,EAAE;AAF0B,KAD9B,CAAP;AAKD,GAPD;;AAQA,SAAOP,UAAP;AACD,CA3B6B,EAA9B;;AA4BAJ,OAAO,CAAC,SAAD,CAAP,GAAqBI,UAArB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar fbemitter_1 = require(\"fbemitter\");\nvar ModalStack = /** @class */function () {\n  function ModalStack() {\n  }\n  ModalStack.add = function (component, onChange) {\n    var _a = ModalStack.getStackInfo(),emitter = _a.emitter,mounted = _a.mounted;\n    mounted.unshift(component);\n    var subscription = emitter.addListener('change', function () {return onChange(mounted.slice());});\n    emitter.emit('change');\n    return subscription;\n  };\n  ModalStack.remove = function (component) {\n    var _a = ModalStack.getStackInfo(),emitter = _a.emitter,mounted = _a.mounted;\n    var index = mounted.indexOf(component);\n    if (index !== -1) {\n      mounted.splice(index, 1);\n    }\n    emitter.emit('change');\n  };\n  ModalStack.getStackInfo = function () {\n    var globalWithStack = global;\n    return globalWithStack.__ReactUIStackInfo || (\n    globalWithStack.__ReactUIStackInfo = {\n      emitter: new fbemitter_1.EventEmitter(),\n      mounted: [] });\n\n  };\n  return ModalStack;\n}();\nexports[\"default\"] = ModalStack;"]},"metadata":{},"sourceType":"script"}