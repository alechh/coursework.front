{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar React = tslib_1.__importStar(require(\"react\"));\n\nvar create_react_context_1 = tslib_1.__importDefault(require(\"create-react-context\"));\n\nvar ZIndexStorage_1 = require(\"./ZIndexStorage\");\n\nvar ZIndexContext = create_react_context_1[\"default\"]({\n  parentLayerZIndex: 0,\n  maxZIndex: Infinity\n});\n\nvar ZIndex =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(ZIndex, _super);\n\n  function ZIndex(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.zIndex = 0;\n    _this.zIndex = ZIndexStorage_1.incrementZIndex(props.priority, props.delta);\n    return _this;\n  }\n\n  ZIndex.prototype.componentWillUnmount = function () {\n    ZIndexStorage_1.removeZIndex(this.zIndex);\n  };\n\n  ZIndex.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        style = _a.style,\n        children = _a.children,\n        delta = _a.delta,\n        priority = _a.priority,\n        applyZIndex = _a.applyZIndex,\n        coverChildren = _a.coverChildren,\n        createStackingContext = _a.createStackingContext,\n        wrapperRef = _a.wrapperRef,\n        props = tslib_1.__rest(_a, [\"style\", \"children\", \"delta\", \"priority\", \"applyZIndex\", \"coverChildren\", \"createStackingContext\", \"wrapperRef\"]);\n\n    var wrapperStyle = {};\n    return React.createElement(ZIndexContext.Consumer, null, function (_a) {\n      var parentLayerZIndex = _a.parentLayerZIndex,\n          maxZIndex = _a.maxZIndex;\n      var zIndexContexValue = {\n        parentLayerZIndex: parentLayerZIndex,\n        maxZIndex: maxZIndex\n      };\n\n      if (applyZIndex) {\n        var newZIndex = _this.calcZIndex(parentLayerZIndex, maxZIndex);\n\n        wrapperStyle.zIndex = newZIndex;\n        zIndexContexValue = coverChildren ? {\n          parentLayerZIndex: parentLayerZIndex,\n          maxZIndex: newZIndex\n        } : {\n          parentLayerZIndex: newZIndex,\n          maxZIndex: Number.isFinite(maxZIndex) ? newZIndex : Infinity\n        };\n\n        if (createStackingContext) {\n          'isolation' in document.body.style ? wrapperStyle.isolation = 'isolate' : wrapperStyle.transform = 'rotate(0)';\n        }\n      }\n\n      return React.createElement(ZIndexContext.Provider, {\n        value: zIndexContexValue\n      }, React.createElement(\"div\", tslib_1.__assign({\n        style: tslib_1.__assign({}, style, wrapperStyle),\n        ref: wrapperRef\n      }, props), children));\n    });\n  };\n\n  ZIndex.prototype.calcZIndex = function (parentLayerZIndex, maxZIndex) {\n    var newZIndex = this.zIndex;\n\n    if (Number.isFinite(maxZIndex)) {\n      var allowedValuesIntervalLength = maxZIndex - parentLayerZIndex;\n      var scale = ZIndexStorage_1.upperBorder / allowedValuesIntervalLength;\n      newZIndex = Math.ceil(newZIndex / scale);\n    }\n\n    newZIndex += parentLayerZIndex;\n    return newZIndex;\n  };\n\n  ZIndex.__KONTUR_REACT_UI__ = 'ZIndex';\n  ZIndex.defaultProps = {\n    delta: 10,\n    priority: 0,\n    style: {},\n    applyZIndex: true,\n    coverChildren: false,\n    createStackingContext: false\n  };\n  ZIndex.propTypes = {\n    delta: function delta(props) {\n      if (props.delta <= 0) {\n        return new Error(\"[ZIndex]: Prop 'delta' must be greater than 0, received \" + props.delta);\n      }\n\n      if (Math.trunc(props.delta) !== props.delta) {\n        return new Error(\"[ZIndex]: Prop 'delta' must be integer, received \" + props.delta);\n      }\n    }\n  };\n  return ZIndex;\n}(React.Component);\n\nexports[\"default\"] = ZIndex;","map":{"version":3,"sources":["/home/aleksandr/coursework.front/node_modules/@skbkontur/react-ui/components/ZIndex/ZIndex.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","React","__importStar","create_react_context_1","__importDefault","ZIndexStorage_1","ZIndexContext","parentLayerZIndex","maxZIndex","Infinity","ZIndex","_super","__extends","props","_this","call","zIndex","incrementZIndex","priority","delta","prototype","componentWillUnmount","removeZIndex","render","_a","style","children","applyZIndex","coverChildren","createStackingContext","wrapperRef","__rest","wrapperStyle","createElement","Consumer","zIndexContexValue","newZIndex","calcZIndex","Number","isFinite","document","body","isolation","transform","Provider","__assign","ref","allowedValuesIntervalLength","scale","upperBorder","Math","ceil","__KONTUR_REACT_UI__","defaultProps","propTypes","Error","trunc","Component"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar React = tslib_1.__importStar(require(\"react\"));\nvar create_react_context_1 = tslib_1.__importDefault(require(\"create-react-context\"));\nvar ZIndexStorage_1 = require(\"./ZIndexStorage\");\nvar ZIndexContext = create_react_context_1[\"default\"]({ parentLayerZIndex: 0, maxZIndex: Infinity });\nvar ZIndex = /** @class */function (_super) {\n  tslib_1.__extends(ZIndex, _super);\n  function ZIndex(props) {\n    var _this = _super.call(this, props) || this;\n    _this.zIndex = 0;\n    _this.zIndex = ZIndexStorage_1.incrementZIndex(props.priority, props.delta);\n    return _this;\n  }\n  ZIndex.prototype.componentWillUnmount = function () {\n    ZIndexStorage_1.removeZIndex(this.zIndex);\n  };\n  ZIndex.prototype.render = function () {\n    var _this = this;\n    var _a = this.props,style = _a.style,children = _a.children,delta = _a.delta,priority = _a.priority,applyZIndex = _a.applyZIndex,coverChildren = _a.coverChildren,createStackingContext = _a.createStackingContext,wrapperRef = _a.wrapperRef,props = tslib_1.__rest(_a, [\"style\", \"children\", \"delta\", \"priority\", \"applyZIndex\", \"coverChildren\", \"createStackingContext\", \"wrapperRef\"]);\n    var wrapperStyle = {};\n    return React.createElement(ZIndexContext.Consumer, null, function (_a) {\n      var parentLayerZIndex = _a.parentLayerZIndex,maxZIndex = _a.maxZIndex;\n      var zIndexContexValue = { parentLayerZIndex: parentLayerZIndex, maxZIndex: maxZIndex };\n      if (applyZIndex) {\n        var newZIndex = _this.calcZIndex(parentLayerZIndex, maxZIndex);\n        wrapperStyle.zIndex = newZIndex;\n        zIndexContexValue = coverChildren ?\n        { parentLayerZIndex: parentLayerZIndex, maxZIndex: newZIndex } :\n        { parentLayerZIndex: newZIndex, maxZIndex: Number.isFinite(maxZIndex) ? newZIndex : Infinity };\n        if (createStackingContext) {\n          'isolation' in document.body.style ?\n          wrapperStyle.isolation = 'isolate' :\n          wrapperStyle.transform = 'rotate(0)';\n        }\n      }\n      return React.createElement(ZIndexContext.Provider, { value: zIndexContexValue },\n      React.createElement(\"div\", tslib_1.__assign({ style: tslib_1.__assign({}, style, wrapperStyle), ref: wrapperRef }, props), children));\n    });\n  };\n  ZIndex.prototype.calcZIndex = function (parentLayerZIndex, maxZIndex) {\n    var newZIndex = this.zIndex;\n    if (Number.isFinite(maxZIndex)) {\n      var allowedValuesIntervalLength = maxZIndex - parentLayerZIndex;\n      var scale = ZIndexStorage_1.upperBorder / allowedValuesIntervalLength;\n      newZIndex = Math.ceil(newZIndex / scale);\n    }\n    newZIndex += parentLayerZIndex;\n    return newZIndex;\n  };\n  ZIndex.__KONTUR_REACT_UI__ = 'ZIndex';\n  ZIndex.defaultProps = {\n    delta: 10,\n    priority: 0,\n    style: {},\n    applyZIndex: true,\n    coverChildren: false,\n    createStackingContext: false };\n\n  ZIndex.propTypes = {\n    delta: function delta(props) {\n      if (props.delta <= 0) {\n        return new Error(\"[ZIndex]: Prop 'delta' must be greater than 0, received \" + props.delta);\n      }\n      if (Math.trunc(props.delta) !== props.delta) {\n        return new Error(\"[ZIndex]: Prop 'delta' must be integer, received \" + props.delta);\n      }\n    } };\n\n  return ZIndex;\n}(React.Component);\nexports[\"default\"] = ZIndex;"]},"metadata":{},"sourceType":"script"}