{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar React = tslib_1.__importStar(require(\"react\"));\n\nvar PropTypes = tslib_1.__importStar(require(\"prop-types\"));\n\nvar settings_1 = require(\"./settings\");\n\nvar fallback_circle_png_1 = tslib_1.__importDefault(require(\"./fallback_circle.png\"));\n\nvar fallback_circle_dimmed_png_1 = tslib_1.__importDefault(require(\"./fallback_circle_dimmed.png\"));\n\nvar fallback_cloud_big_png_1 = tslib_1.__importDefault(require(\"./fallback_cloud_big.png\"));\n\nvar fallback_cloud_normal_png_1 = tslib_1.__importDefault(require(\"./fallback_cloud_normal.png\"));\n\nvar Spinner_module_less_1 = tslib_1.__importDefault(require(\"./Spinner.module.css\"));\n\nvar SpinnerFallback =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(SpinnerFallback, _super);\n\n  function SpinnerFallback() {\n    var _a, _b;\n\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      frame: 0\n    };\n    _this._mounted = false;\n    _this._framesCount = (_a = {}, _a[settings_1.types.mini] = 180, _a[settings_1.types.normal] = 60, _a[settings_1.types.big] = 60, _a.dimmed = 60, _a);\n    _this._imageUrls = (_b = {}, _b[settings_1.types.mini] = fallback_circle_png_1[\"default\"], _b[settings_1.types.normal] = fallback_cloud_normal_png_1[\"default\"], _b[settings_1.types.big] = fallback_cloud_big_png_1[\"default\"], _b.dimmed = fallback_circle_dimmed_png_1[\"default\"], _b);\n\n    _this.animate = function () {\n      if (!_this._mounted) {\n        return;\n      }\n\n      var frame = _this.state.frame;\n\n      var framesCount = _this._framesCount[_this.getSpriteSettingsKey()];\n\n      var nextFrame = frame < framesCount ? frame + 1 : 0;\n\n      _this.setState({\n        frame: nextFrame\n      });\n\n      setTimeout(_this.animate, 1000 / 25);\n    };\n\n    _this.getSpriteSettingsKey = function () {\n      return _this.props.type === settings_1.types.mini && _this.props.dimmed ? 'dimmed' : _this.props.type;\n    };\n\n    return _this;\n  }\n\n  SpinnerFallback.prototype.componentDidMount = function () {\n    this._mounted = true;\n    this.animate();\n  };\n\n  SpinnerFallback.prototype.componentWillUnmount = function () {\n    this._mounted = false;\n  };\n\n  SpinnerFallback.prototype.render = function () {\n    var type = this.props.type;\n    var frame = this.state.frame;\n    var size = settings_1.sizeMaps[type];\n    var cssSet = {\n      backgroundImage: \"url('\" + this._imageUrls[this.getSpriteSettingsKey()] + \"')\",\n      height: size.height,\n      top: type === 'mini' ? 2 : 0,\n      width: size.width\n    };\n\n    if (!process.env.enableReactTesting) {\n      cssSet.backgroundPosition = \"0 -\" + frame * size.height + \"px\";\n    }\n\n    return React.createElement(\"span\", {\n      className: Spinner_module_less_1[\"default\"].fallback,\n      style: cssSet\n    });\n  };\n\n  SpinnerFallback.__KONTUR_REACT_UI__ = 'SpinnerFallback';\n  SpinnerFallback.propTypes = {\n    type: PropTypes.oneOf(Object.keys(settings_1.types)),\n    dimmed: PropTypes.bool\n  };\n  return SpinnerFallback;\n}(React.Component);\n\nexports[\"default\"] = SpinnerFallback;","map":{"version":3,"sources":["C:/Users/Sasha/Documents/coursework.front/node_modules/@skbkontur/react-ui/components/Spinner/SpinnerFallback.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","React","__importStar","PropTypes","settings_1","fallback_circle_png_1","__importDefault","fallback_circle_dimmed_png_1","fallback_cloud_big_png_1","fallback_cloud_normal_png_1","Spinner_module_less_1","SpinnerFallback","_super","__extends","_a","_b","_this","apply","arguments","state","frame","_mounted","_framesCount","types","mini","normal","big","dimmed","_imageUrls","animate","framesCount","getSpriteSettingsKey","nextFrame","setState","setTimeout","props","type","prototype","componentDidMount","componentWillUnmount","render","size","sizeMaps","cssSet","backgroundImage","height","top","width","process","env","enableReactTesting","backgroundPosition","createElement","className","fallback","style","__KONTUR_REACT_UI__","propTypes","oneOf","keys","bool","Component"],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar React = tslib_1.__importStar(require(\"react\"));\r\nvar PropTypes = tslib_1.__importStar(require(\"prop-types\"));\r\nvar settings_1 = require(\"./settings\");\r\nvar fallback_circle_png_1 = tslib_1.__importDefault(require(\"./fallback_circle.png\"));\r\nvar fallback_circle_dimmed_png_1 = tslib_1.__importDefault(require(\"./fallback_circle_dimmed.png\"));\r\nvar fallback_cloud_big_png_1 = tslib_1.__importDefault(require(\"./fallback_cloud_big.png\"));\r\nvar fallback_cloud_normal_png_1 = tslib_1.__importDefault(require(\"./fallback_cloud_normal.png\"));\r\nvar Spinner_module_less_1 = tslib_1.__importDefault(require(\"./Spinner.module.css\"));\r\nvar SpinnerFallback = /** @class */function (_super) {\r\n  tslib_1.__extends(SpinnerFallback, _super);\r\n  function SpinnerFallback() {\r\n    var _a, _b;\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n    _this.state = {\r\n      frame: 0 };\r\n\r\n    _this._mounted = false;\r\n    _this._framesCount = (_a = {},\r\n    _a[settings_1.types.mini] = 180,\r\n    _a[settings_1.types.normal] = 60,\r\n    _a[settings_1.types.big] = 60,\r\n    _a.dimmed = 60,\r\n    _a);\r\n    _this._imageUrls = (_b = {},\r\n    _b[settings_1.types.mini] = fallback_circle_png_1[\"default\"],\r\n    _b[settings_1.types.normal] = fallback_cloud_normal_png_1[\"default\"],\r\n    _b[settings_1.types.big] = fallback_cloud_big_png_1[\"default\"],\r\n    _b.dimmed = fallback_circle_dimmed_png_1[\"default\"],\r\n    _b);\r\n    _this.animate = function () {\r\n      if (!_this._mounted) {\r\n        return;\r\n      }\r\n      var frame = _this.state.frame;\r\n      var framesCount = _this._framesCount[_this.getSpriteSettingsKey()];\r\n      var nextFrame = frame < framesCount ? frame + 1 : 0;\r\n      _this.setState({ frame: nextFrame });\r\n      setTimeout(_this.animate, 1000 / 25);\r\n    };\r\n    _this.getSpriteSettingsKey = function () {\r\n      return _this.props.type === settings_1.types.mini && _this.props.dimmed ? 'dimmed' : _this.props.type;\r\n    };\r\n    return _this;\r\n  }\r\n  SpinnerFallback.prototype.componentDidMount = function () {\r\n    this._mounted = true;\r\n    this.animate();\r\n  };\r\n  SpinnerFallback.prototype.componentWillUnmount = function () {\r\n    this._mounted = false;\r\n  };\r\n  SpinnerFallback.prototype.render = function () {\r\n    var type = this.props.type;\r\n    var frame = this.state.frame;\r\n    var size = settings_1.sizeMaps[type];\r\n    var cssSet = {\r\n      backgroundImage: \"url('\" + this._imageUrls[this.getSpriteSettingsKey()] + \"')\",\r\n      height: size.height,\r\n      top: type === 'mini' ? 2 : 0,\r\n      width: size.width };\r\n\r\n    if (!process.env.enableReactTesting) {\r\n      cssSet.backgroundPosition = \"0 -\" + frame * size.height + \"px\";\r\n    }\r\n    return React.createElement(\"span\", { className: Spinner_module_less_1[\"default\"].fallback, style: cssSet });\r\n  };\r\n  SpinnerFallback.__KONTUR_REACT_UI__ = 'SpinnerFallback';\r\n  SpinnerFallback.propTypes = {\r\n    type: PropTypes.oneOf(Object.keys(settings_1.types)),\r\n    dimmed: PropTypes.bool };\r\n\r\n  return SpinnerFallback;\r\n}(React.Component);\r\nexports[\"default\"] = SpinnerFallback;"]},"metadata":{},"sourceType":"script"}