{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar React = tslib_1.__importStar(require(\"react\"));\n\nvar SidePageContext_1 = require(\"./SidePageContext\");\n\nvar SidePage_module_less_1 = tslib_1.__importDefault(require(\"./SidePage.module.css\"));\n\nvar LayoutEvents_1 = tslib_1.__importDefault(require(\"../../lib/LayoutEvents\"));\n\nvar utils_1 = require(\"../../lib/utils\");\n\nvar Emotion_1 = require(\"../../lib/theming/Emotion\");\n\nvar SidePage_styles_1 = tslib_1.__importDefault(require(\"./SidePage.styles\"));\n\nvar ThemeConsumer_1 = require(\"../ThemeConsumer\");\n/**\r\n                                                    * Футер модального окна.\r\n                                                    */\n\n\nvar SidePageFooter =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(SidePageFooter, _super);\n\n  function SidePageFooter() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      fixed: false\n    };\n    _this.content = null;\n    _this.wrapper = null;\n    _this.layoutSub = null;\n\n    _this.update = function () {\n      _this.setProperStyles();\n    };\n\n    _this.refContent = function (node) {\n      _this.content = node;\n    };\n\n    _this.refWrapper = function (node) {\n      _this.wrapper = node;\n    };\n\n    _this.setProperStyles = function () {\n      if (_this.wrapper && _this.content) {\n        var wrapperRect = _this.wrapper.getBoundingClientRect();\n\n        var contentRect = _this.content.getBoundingClientRect();\n\n        var fixed = wrapperRect.top > contentRect.top;\n\n        _this.setState({\n          fixed: fixed\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  SidePageFooter.prototype.componentDidMount = function () {\n    var context = this.props.context;\n\n    if (context) {\n      context.footerRef(this);\n    }\n\n    this.update();\n    this.layoutSub = LayoutEvents_1[\"default\"].addListener(this.update);\n  };\n\n  SidePageFooter.prototype.componentWillUnmount = function () {\n    var context = this.props.context;\n\n    if (context) {\n      context.footerRef(null);\n    }\n\n    if (this.layoutSub) {\n      this.layoutSub.remove();\n    }\n  };\n\n  SidePageFooter.prototype.render = function () {\n    var _this = this;\n\n    return React.createElement(ThemeConsumer_1.ThemeConsumer, null, function (theme) {\n      _this.theme = theme;\n      return _this.renderMain();\n    });\n  };\n\n  SidePageFooter.prototype.renderMain = function () {\n    var _this = this;\n\n    return React.createElement(\"div\", {\n      style: {\n        height: this.getContentHeight()\n      },\n      ref: this.refWrapper\n    }, React.createElement(SidePageContext_1.SidePageContext.Consumer, null, function (_a) {\n      var getWidth = _a.getWidth;\n\n      var _b;\n\n      return React.createElement(\"div\", {\n        className: SidePage_module_less_1[\"default\"].footer,\n        style: {\n          width: getWidth()\n        }\n      }, React.createElement(\"div\", {\n        className: Emotion_1.cx(SidePage_module_less_1[\"default\"].footerContent, (_b = {}, _b[SidePage_module_less_1[\"default\"].panel] = !!_this.props.panel, _b[SidePage_styles_1[\"default\"].panel(_this.theme)] = !!_this.props.panel, _b[SidePage_module_less_1[\"default\"].fixed] = _this.state.fixed, _b[SidePage_styles_1[\"default\"].fixed(_this.theme)] = _this.state.fixed, _b)),\n        ref: _this.refContent\n      }, _this.props.children));\n    }));\n  };\n\n  SidePageFooter.prototype.getContentHeight = function () {\n    if (!this.content) {\n      return 'auto';\n    }\n\n    return this.content.getBoundingClientRect().height;\n  };\n\n  SidePageFooter.__KONTUR_REACT_UI__ = 'SidePageFooter';\n  return SidePageFooter;\n}(React.Component);\n\nexports.SidePageFooter = SidePageFooter;\nexports.SidePageFooterWithContext = utils_1.withContext(SidePageContext_1.SidePageContext.Consumer)(SidePageFooter);\nexports[\"default\"] = exports.SidePageFooterWithContext;","map":{"version":3,"sources":["/home/aleksandr/Documents/HwProj-2.0.1/hwproj.courseworks.front/node_modules/@skbkontur/react-ui/components/SidePage/SidePageFooter.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","React","__importStar","SidePageContext_1","SidePage_module_less_1","__importDefault","LayoutEvents_1","utils_1","Emotion_1","SidePage_styles_1","ThemeConsumer_1","SidePageFooter","_super","__extends","_this","apply","arguments","state","fixed","content","wrapper","layoutSub","update","setProperStyles","refContent","node","refWrapper","wrapperRect","getBoundingClientRect","contentRect","top","setState","prototype","componentDidMount","context","props","footerRef","addListener","componentWillUnmount","remove","render","createElement","ThemeConsumer","theme","renderMain","style","height","getContentHeight","ref","SidePageContext","Consumer","_a","getWidth","_b","className","footer","width","cx","footerContent","panel","children","__KONTUR_REACT_UI__","Component","SidePageFooterWithContext","withContext"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar React = tslib_1.__importStar(require(\"react\"));\nvar SidePageContext_1 = require(\"./SidePageContext\");\nvar SidePage_module_less_1 = tslib_1.__importDefault(require(\"./SidePage.module.css\"));\nvar LayoutEvents_1 = tslib_1.__importDefault(require(\"../../lib/LayoutEvents\"));\nvar utils_1 = require(\"../../lib/utils\");\nvar Emotion_1 = require(\"../../lib/theming/Emotion\");\nvar SidePage_styles_1 = tslib_1.__importDefault(require(\"./SidePage.styles\"));\nvar ThemeConsumer_1 = require(\"../ThemeConsumer\");\n/**\r\n                                                    * Футер модального окна.\r\n                                                    */\nvar SidePageFooter = /** @class */function (_super) {\n  tslib_1.__extends(SidePageFooter, _super);\n  function SidePageFooter() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      fixed: false };\n\n    _this.content = null;\n    _this.wrapper = null;\n    _this.layoutSub = null;\n    _this.update = function () {\n      _this.setProperStyles();\n    };\n    _this.refContent = function (node) {\n      _this.content = node;\n    };\n    _this.refWrapper = function (node) {\n      _this.wrapper = node;\n    };\n    _this.setProperStyles = function () {\n      if (_this.wrapper && _this.content) {\n        var wrapperRect = _this.wrapper.getBoundingClientRect();\n        var contentRect = _this.content.getBoundingClientRect();\n        var fixed = wrapperRect.top > contentRect.top;\n        _this.setState({ fixed: fixed });\n      }\n    };\n    return _this;\n  }\n  SidePageFooter.prototype.componentDidMount = function () {\n    var context = this.props.context;\n    if (context) {\n      context.footerRef(this);\n    }\n    this.update();\n    this.layoutSub = LayoutEvents_1[\"default\"].addListener(this.update);\n  };\n  SidePageFooter.prototype.componentWillUnmount = function () {\n    var context = this.props.context;\n    if (context) {\n      context.footerRef(null);\n    }\n    if (this.layoutSub) {\n      this.layoutSub.remove();\n    }\n  };\n  SidePageFooter.prototype.render = function () {\n    var _this = this;\n    return React.createElement(ThemeConsumer_1.ThemeConsumer, null, function (theme) {\n      _this.theme = theme;\n      return _this.renderMain();\n    });\n  };\n  SidePageFooter.prototype.renderMain = function () {\n    var _this = this;\n    return React.createElement(\"div\", { style: { height: this.getContentHeight() }, ref: this.refWrapper },\n    React.createElement(SidePageContext_1.SidePageContext.Consumer, null, function (_a) {\n      var getWidth = _a.getWidth;\n      var _b;\n      return React.createElement(\"div\", { className: SidePage_module_less_1[\"default\"].footer, style: {\n          width: getWidth() } },\n\n      React.createElement(\"div\", { className: Emotion_1.cx(SidePage_module_less_1[\"default\"].footerContent, (_b = {},\n        _b[SidePage_module_less_1[\"default\"].panel] = !!_this.props.panel,\n        _b[SidePage_styles_1[\"default\"].panel(_this.theme)] = !!_this.props.panel,\n        _b[SidePage_module_less_1[\"default\"].fixed] = _this.state.fixed,\n        _b[SidePage_styles_1[\"default\"].fixed(_this.theme)] = _this.state.fixed,\n        _b)), ref: _this.refContent }, _this.props.children));\n    }));\n  };\n  SidePageFooter.prototype.getContentHeight = function () {\n    if (!this.content) {\n      return 'auto';\n    }\n    return this.content.getBoundingClientRect().height;\n  };\n  SidePageFooter.__KONTUR_REACT_UI__ = 'SidePageFooter';\n  return SidePageFooter;\n}(React.Component);\nexports.SidePageFooter = SidePageFooter;\nexports.SidePageFooterWithContext = utils_1.withContext(SidePageContext_1.SidePageContext.Consumer)(SidePageFooter);\nexports[\"default\"] = exports.SidePageFooterWithContext;"]},"metadata":{},"sourceType":"script"}