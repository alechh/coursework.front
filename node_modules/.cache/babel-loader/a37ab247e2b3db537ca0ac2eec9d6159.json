{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ColorHelpers_1 = require(\"./ColorHelpers\");\n\nvar ColorFactory_1 = require(\"./ColorFactory\");\n\nvar DEFAULT_DARK = ColorFactory_1.ColorFactory.create('#000');\nvar DEFAULT_LIGHT = ColorFactory_1.ColorFactory.create('#fff');\nvar ColorFunctions = {\n  lighten: function lighten(colorString, amount, method) {\n    var key = buildCacheKey('lighten', colorString, amount, method);\n\n    if (ColorFunctionsCache[key] === undefined) {\n      ColorFunctionsCache[key] = shiftColor(colorString, amount, '+', method);\n    }\n\n    return ColorFunctionsCache[key];\n  },\n  darken: function darken(colorString, amount, method) {\n    var key = buildCacheKey('darken', colorString, amount, method);\n\n    if (ColorFunctionsCache[key] === undefined) {\n      ColorFunctionsCache[key] = shiftColor(colorString, amount, '-', method);\n    }\n\n    return ColorFunctionsCache[key];\n  },\n  contrast: function contrast(colorString, darkString, lightString, threshold) {\n    if (threshold === void 0) {\n      threshold = 0.43;\n    }\n\n    var _a;\n\n    var key = buildCacheKey('contrast', colorString, darkString, lightString, threshold);\n\n    if (!colorString) {\n      ColorFunctionsCache[key] = '';\n    }\n\n    if (ColorFunctionsCache[key] === undefined) {\n      var color = ColorFactory_1.ColorFactory.create(colorString);\n      var dark = typeof darkString === 'undefined' ? DEFAULT_DARK : ColorFactory_1.ColorFactory.create(darkString);\n      var light = typeof lightString === 'undefined' ? DEFAULT_LIGHT : ColorFactory_1.ColorFactory.create(lightString); // Figure out which is actually light and dark:\n\n      if (dark.luma() > light.luma()) {\n        _a = [light, dark], dark = _a[0], light = _a[1];\n      }\n\n      if (color.luma() < threshold) {\n        ColorFunctionsCache[key] = light.alpha < 1 ? light.toRGBString() : light.toHEXString();\n      } else {\n        ColorFunctionsCache[key] = dark.alpha < 1 ? dark.toRGBString() : dark.toHEXString();\n      }\n    }\n\n    return ColorFunctionsCache[key];\n  },\n  red: function red(colorString) {\n    var color = ColorFactory_1.ColorFactory.create(colorString);\n    return color.rgb[0];\n  },\n  green: function green(colorString) {\n    var color = ColorFactory_1.ColorFactory.create(colorString);\n    return color.rgb[1];\n  },\n  blue: function blue(colorString) {\n    var color = ColorFactory_1.ColorFactory.create(colorString);\n    return color.rgb[2];\n  },\n  alpha: function alpha(colorString) {\n    var color = ColorFactory_1.ColorFactory.create(colorString);\n    return color.alpha;\n  },\n  isValid: function isValid(colorString) {\n    try {\n      ColorFactory_1.ColorFactory.create(colorString);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  },\n  fade: function fade(colorString, alpha) {\n    var key = buildCacheKey('fade', colorString, alpha);\n\n    if (ColorFunctionsCache[key] === undefined) {\n      var color = ColorFactory_1.ColorFactory.create(colorString);\n      color.alpha = alpha;\n      ColorFunctionsCache[key] = color.toColorString(color.type === 'hex' ? 'rgba' : color.type);\n    }\n\n    return ColorFunctionsCache[key];\n  }\n};\nvar ColorFunctionsCache = Object.create(null);\n\nfunction buildCacheKey(name) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  return name + \"(\" + args.join() + \")\";\n}\n\nfunction shiftColor(colorString, a, sign, method) {\n  if (!colorString) {\n    return '';\n  }\n\n  if (colorString.toLowerCase() === 'transparent') {\n    return 'transparent';\n  }\n\n  var amount;\n\n  if (typeof a === 'string') {\n    amount = a.endsWith('%') ? ColorHelpers_1.floatFromPercent(a) : parseFloat(a);\n  } else {\n    amount = a;\n  }\n\n  amount = ColorHelpers_1.clamp(amount, 1);\n  var color = ColorFactory_1.ColorFactory.create(colorString);\n  var hsl = color.toHSL();\n\n  if (sign === '+') {\n    hsl.l += method === 'relative' ? hsl.l * amount : amount;\n  } else {\n    hsl.l -= method === 'relative' ? hsl.l * amount : amount;\n  }\n\n  hsl.l = ColorHelpers_1.clamp(hsl.l);\n  var newColor;\n\n  if (color.alpha < 1) {\n    newColor = ColorFactory_1.ColorFactory.create(\"hsla(\" + hsl.h + \", \" + hsl.s + \", \" + hsl.l + \", \" + hsl.a + \")\");\n  } else {\n    newColor = ColorFactory_1.ColorFactory.create(\"hsl(\" + hsl.h + \", \" + hsl.s + \", \" + hsl.l + \")\");\n  }\n\n  return newColor.toColorString(color.type);\n}\n\nexports[\"default\"] = ColorFunctions;","map":{"version":3,"sources":["/home/aleksandr/coursework.front/node_modules/@skbkontur/react-ui/lib/styles/ColorFunctions.js"],"names":["Object","defineProperty","exports","value","ColorHelpers_1","require","ColorFactory_1","DEFAULT_DARK","ColorFactory","create","DEFAULT_LIGHT","ColorFunctions","lighten","colorString","amount","method","key","buildCacheKey","ColorFunctionsCache","undefined","shiftColor","darken","contrast","darkString","lightString","threshold","_a","color","dark","light","luma","alpha","toRGBString","toHEXString","red","rgb","green","blue","isValid","e","fade","toColorString","type","name","args","_i","arguments","length","join","a","sign","toLowerCase","endsWith","floatFromPercent","parseFloat","clamp","hsl","toHSL","l","newColor","h","s"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ColorHelpers_1 = require(\"./ColorHelpers\");\nvar ColorFactory_1 = require(\"./ColorFactory\");\nvar DEFAULT_DARK = ColorFactory_1.ColorFactory.create('#000');\nvar DEFAULT_LIGHT = ColorFactory_1.ColorFactory.create('#fff');\nvar ColorFunctions = {\n  lighten: function lighten(colorString, amount, method) {\n    var key = buildCacheKey('lighten', colorString, amount, method);\n    if (ColorFunctionsCache[key] === undefined) {\n      ColorFunctionsCache[key] = shiftColor(colorString, amount, '+', method);\n    }\n    return ColorFunctionsCache[key];\n  },\n  darken: function darken(colorString, amount, method) {\n    var key = buildCacheKey('darken', colorString, amount, method);\n    if (ColorFunctionsCache[key] === undefined) {\n      ColorFunctionsCache[key] = shiftColor(colorString, amount, '-', method);\n    }\n    return ColorFunctionsCache[key];\n  },\n  contrast: function contrast(colorString, darkString, lightString, threshold) {\n    if (threshold === void 0) {threshold = 0.43;}\n    var _a;\n    var key = buildCacheKey('contrast', colorString, darkString, lightString, threshold);\n    if (!colorString) {\n      ColorFunctionsCache[key] = '';\n    }\n    if (ColorFunctionsCache[key] === undefined) {\n      var color = ColorFactory_1.ColorFactory.create(colorString);\n      var dark = typeof darkString === 'undefined' ? DEFAULT_DARK : ColorFactory_1.ColorFactory.create(darkString);\n      var light = typeof lightString === 'undefined' ? DEFAULT_LIGHT : ColorFactory_1.ColorFactory.create(lightString);\n      // Figure out which is actually light and dark:\n      if (dark.luma() > light.luma()) {\n        _a = [light, dark], dark = _a[0], light = _a[1];\n      }\n      if (color.luma() < threshold) {\n        ColorFunctionsCache[key] = light.alpha < 1 ? light.toRGBString() : light.toHEXString();\n      } else\n      {\n        ColorFunctionsCache[key] = dark.alpha < 1 ? dark.toRGBString() : dark.toHEXString();\n      }\n    }\n    return ColorFunctionsCache[key];\n  },\n  red: function red(colorString) {\n    var color = ColorFactory_1.ColorFactory.create(colorString);\n    return color.rgb[0];\n  },\n  green: function green(colorString) {\n    var color = ColorFactory_1.ColorFactory.create(colorString);\n    return color.rgb[1];\n  },\n  blue: function blue(colorString) {\n    var color = ColorFactory_1.ColorFactory.create(colorString);\n    return color.rgb[2];\n  },\n  alpha: function alpha(colorString) {\n    var color = ColorFactory_1.ColorFactory.create(colorString);\n    return color.alpha;\n  },\n  isValid: function isValid(colorString) {\n    try {\n      ColorFactory_1.ColorFactory.create(colorString);\n      return true;\n    }\n    catch (e) {\n      return false;\n    }\n  },\n  fade: function fade(colorString, alpha) {\n    var key = buildCacheKey('fade', colorString, alpha);\n    if (ColorFunctionsCache[key] === undefined) {\n      var color = ColorFactory_1.ColorFactory.create(colorString);\n      color.alpha = alpha;\n      ColorFunctionsCache[key] = color.toColorString(color.type === 'hex' ? 'rgba' : color.type);\n    }\n    return ColorFunctionsCache[key];\n  } };\n\nvar ColorFunctionsCache = Object.create(null);\nfunction buildCacheKey(name) {\n  var args = [];\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n  return name + \"(\" + args.join() + \")\";\n}\nfunction shiftColor(colorString, a, sign, method) {\n  if (!colorString) {\n    return '';\n  }\n  if (colorString.toLowerCase() === 'transparent') {\n    return 'transparent';\n  }\n  var amount;\n  if (typeof a === 'string') {\n    amount = a.endsWith('%') ? ColorHelpers_1.floatFromPercent(a) : parseFloat(a);\n  } else\n  {\n    amount = a;\n  }\n  amount = ColorHelpers_1.clamp(amount, 1);\n  var color = ColorFactory_1.ColorFactory.create(colorString);\n  var hsl = color.toHSL();\n  if (sign === '+') {\n    hsl.l += method === 'relative' ? hsl.l * amount : amount;\n  } else\n  {\n    hsl.l -= method === 'relative' ? hsl.l * amount : amount;\n  }\n  hsl.l = ColorHelpers_1.clamp(hsl.l);\n  var newColor;\n  if (color.alpha < 1) {\n    newColor = ColorFactory_1.ColorFactory.create(\"hsla(\" + hsl.h + \", \" + hsl.s + \", \" + hsl.l + \", \" + hsl.a + \")\");\n  } else\n  {\n    newColor = ColorFactory_1.ColorFactory.create(\"hsl(\" + hsl.h + \", \" + hsl.s + \", \" + hsl.l + \")\");\n  }\n  return newColor.toColorString(color.type);\n}\nexports[\"default\"] = ColorFunctions;"]},"metadata":{},"sourceType":"script"}