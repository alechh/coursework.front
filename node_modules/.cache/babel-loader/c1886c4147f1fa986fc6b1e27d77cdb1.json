{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar componentPriorities = {\n  Toast: 10,\n  Sidepage: 9,\n  Modal: 9,\n  Sticky: 7,\n  DropdownContainer: 5,\n  Popup: 3,\n  Loader: 1,\n  ModalHeader: 1,\n  ModalFooter: 1,\n  ModalCross: 1,\n  ModalBody: 0\n};\nvar priorityStep = 1000;\n\nvar getZIndexes = function getZIndexes() {\n  return window.__RetailUiZIndexes || (window.__RetailUiZIndexes = [0]);\n};\n\nvar getIndexPriority = function getIndexPriority(zIndex) {\n  return Math.trunc(zIndex / priorityStep);\n};\n\nvar getMaxAllowedValue = function getMaxAllowedValue(priority) {\n  return (priority + 1) * priorityStep - 1;\n};\n\nexports.upperBorder = getMaxAllowedValue(Math.max.apply(Math, Object.values(componentPriorities)));\n\nfunction incrementZIndex(priority, delta) {\n  if (typeof priority === 'string') {\n    priority = componentPriorities[priority];\n  }\n\n  var maxAllowedValue = getMaxAllowedValue(priority);\n  var zIndexes = getZIndexes();\n  var prevIndexId = zIndexes.length - 1;\n\n  while (zIndexes[prevIndexId] > maxAllowedValue && prevIndexId > 0) {\n    prevIndexId--;\n  }\n\n  var zIndex = getIndexPriority(zIndexes[prevIndexId]) === priority ? Math.min(zIndexes[prevIndexId] + delta, maxAllowedValue) : priority * priorityStep;\n  zIndexes.push(zIndex);\n  zIndexes.sort(function (a, b) {\n    return a - b;\n  });\n  return zIndex;\n}\n\nexports.incrementZIndex = incrementZIndex;\n\nfunction removeZIndex(zIndex) {\n  var zIndexes = getZIndexes();\n  var i = zIndexes.indexOf(zIndex);\n\n  if (i !== -1) {\n    zIndexes.splice(i, 1);\n  }\n}\n\nexports.removeZIndex = removeZIndex;","map":{"version":3,"sources":["C:/Users/Sasha/Documents/coursework.front/node_modules/@skbkontur/react-ui/components/ZIndex/ZIndexStorage.js"],"names":["Object","defineProperty","exports","value","componentPriorities","Toast","Sidepage","Modal","Sticky","DropdownContainer","Popup","Loader","ModalHeader","ModalFooter","ModalCross","ModalBody","priorityStep","getZIndexes","window","__RetailUiZIndexes","getIndexPriority","zIndex","Math","trunc","getMaxAllowedValue","priority","upperBorder","max","apply","values","incrementZIndex","delta","maxAllowedValue","zIndexes","prevIndexId","length","min","push","sort","a","b","removeZIndex","i","indexOf","splice"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACA,IAAIC,mBAAmB,GAAG;AACxBC,EAAAA,KAAK,EAAE,EADiB;AAExBC,EAAAA,QAAQ,EAAE,CAFc;AAGxBC,EAAAA,KAAK,EAAE,CAHiB;AAIxBC,EAAAA,MAAM,EAAE,CAJgB;AAKxBC,EAAAA,iBAAiB,EAAE,CALK;AAMxBC,EAAAA,KAAK,EAAE,CANiB;AAOxBC,EAAAA,MAAM,EAAE,CAPgB;AAQxBC,EAAAA,WAAW,EAAE,CARW;AASxBC,EAAAA,WAAW,EAAE,CATW;AAUxBC,EAAAA,UAAU,EAAE,CAVY;AAWxBC,EAAAA,SAAS,EAAE;AAXa,CAA1B;AAaA,IAAIC,YAAY,GAAG,IAAnB;;AACA,IAAIC,WAAW,GAAG,SAASA,WAAT,GAAuB;AAAC,SAAOC,MAAM,CAACC,kBAAP,KAA8BD,MAAM,CAACC,kBAAP,GAA4B,CAAC,CAAD,CAA1D,CAAP;AAAuE,CAAjH;;AACA,IAAIC,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,MAA1B,EAAkC;AAAC,SAAOC,IAAI,CAACC,KAAL,CAAWF,MAAM,GAAGL,YAApB,CAAP;AAA0C,CAApG;;AACA,IAAIQ,kBAAkB,GAAG,SAASA,kBAAT,CAA4BC,QAA5B,EAAsC;AAAC,SAAO,CAACA,QAAQ,GAAG,CAAZ,IAAiBT,YAAjB,GAAgC,CAAvC;AAA0C,CAA1G;;AACAd,OAAO,CAACwB,WAAR,GAAsBF,kBAAkB,CAACF,IAAI,CAACK,GAAL,CAASC,KAAT,CAAeN,IAAf,EAAqBtB,MAAM,CAAC6B,MAAP,CAAczB,mBAAd,CAArB,CAAD,CAAxC;;AACA,SAAS0B,eAAT,CAAyBL,QAAzB,EAAmCM,KAAnC,EAA0C;AACxC,MAAI,OAAON,QAAP,KAAoB,QAAxB,EAAkC;AAChCA,IAAAA,QAAQ,GAAGrB,mBAAmB,CAACqB,QAAD,CAA9B;AACD;;AACD,MAAIO,eAAe,GAAGR,kBAAkB,CAACC,QAAD,CAAxC;AACA,MAAIQ,QAAQ,GAAGhB,WAAW,EAA1B;AACA,MAAIiB,WAAW,GAAGD,QAAQ,CAACE,MAAT,GAAkB,CAApC;;AACA,SAAOF,QAAQ,CAACC,WAAD,CAAR,GAAwBF,eAAxB,IAA2CE,WAAW,GAAG,CAAhE,EAAmE;AACjEA,IAAAA,WAAW;AACZ;;AACD,MAAIb,MAAM,GAAGD,gBAAgB,CAACa,QAAQ,CAACC,WAAD,CAAT,CAAhB,KAA4CT,QAA5C,GACbH,IAAI,CAACc,GAAL,CAASH,QAAQ,CAACC,WAAD,CAAR,GAAwBH,KAAjC,EAAwCC,eAAxC,CADa,GAEbP,QAAQ,GAAGT,YAFX;AAGAiB,EAAAA,QAAQ,CAACI,IAAT,CAAchB,MAAd;AACAY,EAAAA,QAAQ,CAACK,IAAT,CAAc,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAAC,WAAOD,CAAC,GAAGC,CAAX;AAAc,GAA7C;AACA,SAAOnB,MAAP;AACD;;AACDnB,OAAO,CAAC4B,eAAR,GAA0BA,eAA1B;;AACA,SAASW,YAAT,CAAsBpB,MAAtB,EAA8B;AAC5B,MAAIY,QAAQ,GAAGhB,WAAW,EAA1B;AACA,MAAIyB,CAAC,GAAGT,QAAQ,CAACU,OAAT,CAAiBtB,MAAjB,CAAR;;AACA,MAAIqB,CAAC,KAAK,CAAC,CAAX,EAAc;AACZT,IAAAA,QAAQ,CAACW,MAAT,CAAgBF,CAAhB,EAAmB,CAAnB;AACD;AACF;;AACDxC,OAAO,CAACuC,YAAR,GAAuBA,YAAvB","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar componentPriorities = {\r\n  Toast: 10,\r\n  Sidepage: 9,\r\n  Modal: 9,\r\n  Sticky: 7,\r\n  DropdownContainer: 5,\r\n  Popup: 3,\r\n  Loader: 1,\r\n  ModalHeader: 1,\r\n  ModalFooter: 1,\r\n  ModalCross: 1,\r\n  ModalBody: 0 };\r\n\r\nvar priorityStep = 1000;\r\nvar getZIndexes = function getZIndexes() {return window.__RetailUiZIndexes || (window.__RetailUiZIndexes = [0]);};\r\nvar getIndexPriority = function getIndexPriority(zIndex) {return Math.trunc(zIndex / priorityStep);};\r\nvar getMaxAllowedValue = function getMaxAllowedValue(priority) {return (priority + 1) * priorityStep - 1;};\r\nexports.upperBorder = getMaxAllowedValue(Math.max.apply(Math, Object.values(componentPriorities)));\r\nfunction incrementZIndex(priority, delta) {\r\n  if (typeof priority === 'string') {\r\n    priority = componentPriorities[priority];\r\n  }\r\n  var maxAllowedValue = getMaxAllowedValue(priority);\r\n  var zIndexes = getZIndexes();\r\n  var prevIndexId = zIndexes.length - 1;\r\n  while (zIndexes[prevIndexId] > maxAllowedValue && prevIndexId > 0) {\r\n    prevIndexId--;\r\n  }\r\n  var zIndex = getIndexPriority(zIndexes[prevIndexId]) === priority ?\r\n  Math.min(zIndexes[prevIndexId] + delta, maxAllowedValue) :\r\n  priority * priorityStep;\r\n  zIndexes.push(zIndex);\r\n  zIndexes.sort(function (a, b) {return a - b;});\r\n  return zIndex;\r\n}\r\nexports.incrementZIndex = incrementZIndex;\r\nfunction removeZIndex(zIndex) {\r\n  var zIndexes = getZIndexes();\r\n  var i = zIndexes.indexOf(zIndex);\r\n  if (i !== -1) {\r\n    zIndexes.splice(i, 1);\r\n  }\r\n}\r\nexports.removeZIndex = removeZIndex;"]},"metadata":{},"sourceType":"script"}