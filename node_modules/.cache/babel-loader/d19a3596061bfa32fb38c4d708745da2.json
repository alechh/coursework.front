{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar React = tslib_1.__importStar(require(\"react\"));\n\nvar constants_1 = require(\"../../lib/date/constants\");\n\nvar InternalDateValidator_1 = tslib_1.__importDefault(require(\"../../lib/date/InternalDateValidator\"));\n\nvar types_1 = require(\"../../lib/date/types\");\n\nvar DateFragmentsView_module_less_1 = tslib_1.__importDefault(require(\"./DateFragmentsView.module.css\"));\n\nvar SelectionHelpers_1 = require(\"./helpers/SelectionHelpers\");\n\nvar Emotion_1 = require(\"../../lib/theming/Emotion\");\n\nvar DateFragmentsView_styles_1 = tslib_1.__importDefault(require(\"./DateFragmentsView.styles\"));\n\nvar ThemeConsumer_1 = tslib_1.__importDefault(require(\"../ThemeConsumer\"));\n\nvar DateFragmentsView =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(DateFragmentsView, _super);\n\n  function DateFragmentsView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DateFragmentsView.prototype.render = function () {\n    var _this = this;\n\n    return React.createElement(ThemeConsumer_1[\"default\"], null, function (theme) {\n      _this.theme = theme;\n      return _this.renderMain();\n    });\n  };\n\n  DateFragmentsView.prototype.renderMain = function () {\n    var _this = this;\n\n    return React.createElement(\"div\", {\n      ref: this.props.nodeRef,\n      className: Emotion_1.cx(DateFragmentsView_module_less_1[\"default\"].root, DateFragmentsView_styles_1[\"default\"].root(this.theme))\n    }, this.props.fragments.map(function (fragment, index) {\n      return fragment.type === types_1.InternalDateComponentType.Separator ? _this.renderSeparator(fragment, index) : _this.renderDateComponent(fragment, index);\n    }));\n  };\n\n  DateFragmentsView.prototype.renderSeparator = function (fragment, index) {\n    var _a;\n\n    var separatorClassName = Emotion_1.cx(DateFragmentsView_styles_1[\"default\"].delimiter(this.theme), (_a = {}, _a[DateFragmentsView_module_less_1[\"default\"].filled] = this.props.fragments[index + 1].value !== null, _a));\n    return React.createElement(\"span\", {\n      key: index,\n      className: separatorClassName\n    }, fragment.value);\n  };\n\n  DateFragmentsView.prototype.renderDateComponent = function (fragment, index) {\n    var _a = this.props,\n        inputMode = _a.inputMode,\n        onSelectDateComponent = _a.onSelectDateComponent,\n        selected = _a.selected;\n    var type = fragment.type,\n        value = fragment.value,\n        length = fragment.length,\n        valueWithPad = fragment.valueWithPad;\n    var valueMask = value === null || selected === type && inputMode ? value : valueWithPad || value;\n    var lengthMask = InternalDateValidator_1[\"default\"].testParseToNumber(valueMask) ? Math.max(length - valueMask.toString().length, 0) : length;\n\n    var handleMouseUp = function handleMouseUp(e) {\n      return onSelectDateComponent(type, e);\n    };\n\n    return React.createElement(\"span\", {\n      key: index,\n      onMouseUp: handleMouseUp,\n      onMouseDown: SelectionHelpers_1.removeAllSelections\n    }, valueMask, React.createElement(\"span\", {\n      className: DateFragmentsView_styles_1[\"default\"].mask(this.theme)\n    }, constants_1.CHAR_MASK.repeat(lengthMask)));\n  };\n\n  return DateFragmentsView;\n}(React.Component);\n\nexports.DateFragmentsView = DateFragmentsView;","map":{"version":3,"sources":["/home/aleksandr/coursework.front/node_modules/@skbkontur/react-ui/components/DateInput/DateFragmentsView.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","React","__importStar","constants_1","InternalDateValidator_1","__importDefault","types_1","DateFragmentsView_module_less_1","SelectionHelpers_1","Emotion_1","DateFragmentsView_styles_1","ThemeConsumer_1","DateFragmentsView","_super","__extends","apply","arguments","prototype","render","_this","createElement","theme","renderMain","ref","props","nodeRef","className","cx","root","fragments","map","fragment","index","type","InternalDateComponentType","Separator","renderSeparator","renderDateComponent","_a","separatorClassName","delimiter","filled","key","inputMode","onSelectDateComponent","selected","length","valueWithPad","valueMask","lengthMask","testParseToNumber","Math","max","toString","handleMouseUp","e","onMouseUp","onMouseDown","removeAllSelections","mask","CHAR_MASK","repeat","Component"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar React = tslib_1.__importStar(require(\"react\"));\nvar constants_1 = require(\"../../lib/date/constants\");\nvar InternalDateValidator_1 = tslib_1.__importDefault(require(\"../../lib/date/InternalDateValidator\"));\nvar types_1 = require(\"../../lib/date/types\");\nvar DateFragmentsView_module_less_1 = tslib_1.__importDefault(require(\"./DateFragmentsView.module.css\"));\nvar SelectionHelpers_1 = require(\"./helpers/SelectionHelpers\");\nvar Emotion_1 = require(\"../../lib/theming/Emotion\");\nvar DateFragmentsView_styles_1 = tslib_1.__importDefault(require(\"./DateFragmentsView.styles\"));\nvar ThemeConsumer_1 = tslib_1.__importDefault(require(\"../ThemeConsumer\"));\nvar DateFragmentsView = /** @class */function (_super) {\n  tslib_1.__extends(DateFragmentsView, _super);\n  function DateFragmentsView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DateFragmentsView.prototype.render = function () {\n    var _this = this;\n    return React.createElement(ThemeConsumer_1[\"default\"], null, function (theme) {\n      _this.theme = theme;\n      return _this.renderMain();\n    });\n  };\n  DateFragmentsView.prototype.renderMain = function () {\n    var _this = this;\n    return React.createElement(\"div\", { ref: this.props.nodeRef, className: Emotion_1.cx(DateFragmentsView_module_less_1[\"default\"].root, DateFragmentsView_styles_1[\"default\"].root(this.theme)) }, this.props.fragments.map(function (fragment, index) {\n      return fragment.type === types_1.InternalDateComponentType.Separator ?\n      _this.renderSeparator(fragment, index) :\n      _this.renderDateComponent(fragment, index);\n    }));\n  };\n  DateFragmentsView.prototype.renderSeparator = function (fragment, index) {\n    var _a;\n    var separatorClassName = Emotion_1.cx(DateFragmentsView_styles_1[\"default\"].delimiter(this.theme), (_a = {},\n    _a[DateFragmentsView_module_less_1[\"default\"].filled] = this.props.fragments[index + 1].value !== null,\n    _a));\n    return React.createElement(\"span\", { key: index, className: separatorClassName }, fragment.value);\n  };\n  DateFragmentsView.prototype.renderDateComponent = function (fragment, index) {\n    var _a = this.props,inputMode = _a.inputMode,onSelectDateComponent = _a.onSelectDateComponent,selected = _a.selected;\n    var type = fragment.type,value = fragment.value,length = fragment.length,valueWithPad = fragment.valueWithPad;\n    var valueMask = value === null || selected === type && inputMode ? value : valueWithPad || value;\n    var lengthMask = InternalDateValidator_1[\"default\"].testParseToNumber(valueMask) ?\n    Math.max(length - valueMask.toString().length, 0) :\n    length;\n    var handleMouseUp = function handleMouseUp(e) {return onSelectDateComponent(type, e);};\n    return React.createElement(\"span\", { key: index, onMouseUp: handleMouseUp, onMouseDown: SelectionHelpers_1.removeAllSelections },\n    valueMask,\n    React.createElement(\"span\", { className: DateFragmentsView_styles_1[\"default\"].mask(this.theme) }, constants_1.CHAR_MASK.repeat(lengthMask)));\n  };\n  return DateFragmentsView;\n}(React.Component);\nexports.DateFragmentsView = DateFragmentsView;"]},"metadata":{},"sourceType":"script"}