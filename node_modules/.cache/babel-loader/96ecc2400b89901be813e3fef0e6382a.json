{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar React = tslib_1.__importStar(require(\"react\"));\n\nvar react_dom_1 = require(\"react-dom\");\n\nvar listenFocusOutside_1 = tslib_1.__importStar(require(\"../../../lib/listenFocusOutside\"));\n\nvar FocusTrap =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(FocusTrap, _super);\n\n  function FocusTrap() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.focusOutsideListenerToken = null;\n\n    _this.onClickOutside = function (e) {\n      if (_this.props.onBlur) {\n        _this.props.onBlur(e);\n      }\n\n      _this.detachListeners();\n    };\n\n    _this.attachListeners = function () {\n      if (!_this.focusOutsideListenerToken) {\n        _this.focusOutsideListenerToken = listenFocusOutside_1[\"default\"]([react_dom_1.findDOMNode(_this)], _this.onClickOutside);\n        document.addEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', _this.handleNativeDocClick);\n      }\n    };\n\n    _this.handleNativeDocClick = function (event) {\n      var target = event.target || event.srcElement;\n      var node = react_dom_1.findDOMNode(_this);\n\n      if (target instanceof Element && listenFocusOutside_1.containsTargetOrRenderContainer(target)(node)) {\n        return;\n      }\n\n      _this.onClickOutside(event);\n    };\n\n    return _this;\n  }\n\n  FocusTrap.prototype.componentWillUnmount = function () {\n    if (this.focusOutsideListenerToken) {\n      this.detachListeners();\n    }\n  };\n\n  FocusTrap.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        children = _a.children,\n        onBlur = _a.onBlur;\n    return React.cloneElement(React.Children.only(children), {\n      onFocus: function onFocus() {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        var _a;\n\n        if (onBlur) {\n          _this.attachListeners();\n        }\n\n        if (children.props && children.props.onFocus) {\n          (_a = children.props).onFocus.apply(_a, args);\n        }\n      }\n    });\n  };\n\n  FocusTrap.prototype.detachListeners = function () {\n    if (this.focusOutsideListenerToken) {\n      this.focusOutsideListenerToken.remove();\n      this.focusOutsideListenerToken = null;\n      document.removeEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', this.handleNativeDocClick);\n    }\n  };\n\n  FocusTrap.__KONTUR_REACT_UI__ = 'FocusTrap';\n  return FocusTrap;\n}(React.PureComponent);\n\nexports[\"default\"] = FocusTrap;","map":{"version":3,"sources":["C:/Users/Sasha/Documents/coursework.front/node_modules/@skbkontur/react-ui/components/internal/FocusTrap/FocusTrap.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","React","__importStar","react_dom_1","listenFocusOutside_1","FocusTrap","_super","__extends","_this","apply","arguments","focusOutsideListenerToken","onClickOutside","e","props","onBlur","detachListeners","attachListeners","findDOMNode","document","addEventListener","documentElement","handleNativeDocClick","event","target","srcElement","node","Element","containsTargetOrRenderContainer","prototype","componentWillUnmount","render","_a","children","cloneElement","Children","only","onFocus","args","_i","length","remove","removeEventListener","__KONTUR_REACT_UI__","PureComponent"],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar React = tslib_1.__importStar(require(\"react\"));\r\nvar react_dom_1 = require(\"react-dom\");\r\nvar listenFocusOutside_1 = tslib_1.__importStar(require(\"../../../lib/listenFocusOutside\"));\r\nvar FocusTrap = /** @class */function (_super) {\r\n  tslib_1.__extends(FocusTrap, _super);\r\n  function FocusTrap() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n    _this.focusOutsideListenerToken = null;\r\n    _this.onClickOutside = function (e) {\r\n      if (_this.props.onBlur) {\r\n        _this.props.onBlur(e);\r\n      }\r\n      _this.detachListeners();\r\n    };\r\n    _this.attachListeners = function () {\r\n      if (!_this.focusOutsideListenerToken) {\r\n        _this.focusOutsideListenerToken = listenFocusOutside_1[\"default\"]([react_dom_1.findDOMNode(_this)], _this.onClickOutside);\r\n        document.addEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', _this.handleNativeDocClick);\r\n      }\r\n    };\r\n    _this.handleNativeDocClick = function (event) {\r\n      var target = event.target || event.srcElement;\r\n      var node = react_dom_1.findDOMNode(_this);\r\n      if (target instanceof Element && listenFocusOutside_1.containsTargetOrRenderContainer(target)(node)) {\r\n        return;\r\n      }\r\n      _this.onClickOutside(event);\r\n    };\r\n    return _this;\r\n  }\r\n  FocusTrap.prototype.componentWillUnmount = function () {\r\n    if (this.focusOutsideListenerToken) {\r\n      this.detachListeners();\r\n    }\r\n  };\r\n  FocusTrap.prototype.render = function () {\r\n    var _this = this;\r\n    var _a = this.props,children = _a.children,onBlur = _a.onBlur;\r\n    return React.cloneElement(React.Children.only(children), {\r\n      onFocus: function onFocus() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n          args[_i] = arguments[_i];\r\n        }\r\n        var _a;\r\n        if (onBlur) {\r\n          _this.attachListeners();\r\n        }\r\n        if (children.props && children.props.onFocus) {\r\n          (_a = children.props).onFocus.apply(_a, args);\r\n        }\r\n      } });\r\n\r\n  };\r\n  FocusTrap.prototype.detachListeners = function () {\r\n    if (this.focusOutsideListenerToken) {\r\n      this.focusOutsideListenerToken.remove();\r\n      this.focusOutsideListenerToken = null;\r\n      document.removeEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', this.handleNativeDocClick);\r\n    }\r\n  };\r\n  FocusTrap.__KONTUR_REACT_UI__ = 'FocusTrap';\r\n  return FocusTrap;\r\n}(React.PureComponent);\r\nexports[\"default\"] = FocusTrap;"]},"metadata":{},"sourceType":"script"}