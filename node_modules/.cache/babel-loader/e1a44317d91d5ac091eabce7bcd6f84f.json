{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar React = tslib_1.__importStar(require(\"react\"));\n\nvar react_dom_1 = require(\"react-dom\");\n\nvar listenFocusOutside_1 = tslib_1.__importStar(require(\"../../lib/listenFocusOutside\"));\n\nvar RenderLayer =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(RenderLayer, _super);\n\n  function RenderLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.focusOutsideListenerToken = null;\n\n    _this.handleFocusOutside = function (event) {\n      if (_this.props.onFocusOutside) {\n        _this.props.onFocusOutside(event);\n      }\n    };\n\n    _this.handleNativeDocClick = function (event) {\n      var target = event.target || event.srcElement;\n\n      var node = _this.getDomNode();\n\n      if (target instanceof Element && listenFocusOutside_1.containsTargetOrRenderContainer(target)(node)) {\n        return;\n      }\n\n      if (_this.props.onClickOutside) {\n        _this.props.onClickOutside(event);\n      }\n    };\n\n    return _this;\n  }\n\n  RenderLayer.prototype.componentDidMount = function () {\n    if (this.props.active) {\n      this.attachListeners();\n    }\n  };\n\n  RenderLayer.prototype.componentDidUpdate = function (prevProps) {\n    if (!prevProps.active && this.props.active) {\n      this.attachListeners();\n    }\n\n    if (prevProps.active && !this.props.active) {\n      this.detachListeners();\n    }\n  };\n\n  RenderLayer.prototype.componentWillUnmount = function () {\n    if (this.props.active) {\n      this.detachListeners();\n    }\n  };\n\n  RenderLayer.prototype.render = function () {\n    return React.Children.only(this.props.children);\n  };\n\n  RenderLayer.prototype.attachListeners = function () {\n    var _this = this;\n\n    this.focusOutsideListenerToken = listenFocusOutside_1[\"default\"](function () {\n      return [_this.getDomNode()];\n    }, this.handleFocusOutside);\n    window.addEventListener('blur', this.handleFocusOutside);\n    document.addEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', this.handleNativeDocClick);\n  };\n\n  RenderLayer.prototype.detachListeners = function () {\n    if (this.focusOutsideListenerToken) {\n      this.focusOutsideListenerToken.remove();\n      this.focusOutsideListenerToken = null;\n    }\n\n    window.removeEventListener('blur', this.handleFocusOutside);\n    document.removeEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', this.handleNativeDocClick);\n  };\n\n  RenderLayer.prototype.getDomNode = function () {\n    return react_dom_1.findDOMNode(this);\n  };\n\n  RenderLayer.__KONTUR_REACT_UI__ = 'RenderLayer';\n  RenderLayer.propTypes = {\n    active: function active(props, propName, componentName) {\n      var active = props.active,\n          onClickOutside = props.onClickOutside,\n          onFocusOutside = props.onFocusOutside;\n\n      if (active && !(onClickOutside || onFocusOutside)) {\n        return new Error(\"[\" + componentName + \"]: using the component without either 'onClickOutside' or 'onFocusOutside' callback is pointless.\");\n      }\n    }\n  };\n  RenderLayer.defaultProps = {\n    active: true\n  };\n  return RenderLayer;\n}(React.Component);\n\nexports[\"default\"] = RenderLayer;","map":{"version":3,"sources":["/home/aleksandr/coursework.front/node_modules/@skbkontur/react-ui/components/RenderLayer/RenderLayer.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","React","__importStar","react_dom_1","listenFocusOutside_1","RenderLayer","_super","__extends","_this","apply","arguments","focusOutsideListenerToken","handleFocusOutside","event","props","onFocusOutside","handleNativeDocClick","target","srcElement","node","getDomNode","Element","containsTargetOrRenderContainer","onClickOutside","prototype","componentDidMount","active","attachListeners","componentDidUpdate","prevProps","detachListeners","componentWillUnmount","render","Children","only","children","window","addEventListener","document","documentElement","remove","removeEventListener","findDOMNode","__KONTUR_REACT_UI__","propTypes","propName","componentName","Error","defaultProps","Component"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar React = tslib_1.__importStar(require(\"react\"));\nvar react_dom_1 = require(\"react-dom\");\nvar listenFocusOutside_1 = tslib_1.__importStar(require(\"../../lib/listenFocusOutside\"));\nvar RenderLayer = /** @class */function (_super) {\n  tslib_1.__extends(RenderLayer, _super);\n  function RenderLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.focusOutsideListenerToken = null;\n    _this.handleFocusOutside = function (event) {\n      if (_this.props.onFocusOutside) {\n        _this.props.onFocusOutside(event);\n      }\n    };\n    _this.handleNativeDocClick = function (event) {\n      var target = event.target || event.srcElement;\n      var node = _this.getDomNode();\n      if (target instanceof Element && listenFocusOutside_1.containsTargetOrRenderContainer(target)(node)) {\n        return;\n      }\n      if (_this.props.onClickOutside) {\n        _this.props.onClickOutside(event);\n      }\n    };\n    return _this;\n  }\n  RenderLayer.prototype.componentDidMount = function () {\n    if (this.props.active) {\n      this.attachListeners();\n    }\n  };\n  RenderLayer.prototype.componentDidUpdate = function (prevProps) {\n    if (!prevProps.active && this.props.active) {\n      this.attachListeners();\n    }\n    if (prevProps.active && !this.props.active) {\n      this.detachListeners();\n    }\n  };\n  RenderLayer.prototype.componentWillUnmount = function () {\n    if (this.props.active) {\n      this.detachListeners();\n    }\n  };\n  RenderLayer.prototype.render = function () {\n    return React.Children.only(this.props.children);\n  };\n  RenderLayer.prototype.attachListeners = function () {\n    var _this = this;\n    this.focusOutsideListenerToken = listenFocusOutside_1[\"default\"](function () {return [_this.getDomNode()];}, this.handleFocusOutside);\n    window.addEventListener('blur', this.handleFocusOutside);\n    document.addEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', this.handleNativeDocClick);\n  };\n  RenderLayer.prototype.detachListeners = function () {\n    if (this.focusOutsideListenerToken) {\n      this.focusOutsideListenerToken.remove();\n      this.focusOutsideListenerToken = null;\n    }\n    window.removeEventListener('blur', this.handleFocusOutside);\n    document.removeEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', this.handleNativeDocClick);\n  };\n  RenderLayer.prototype.getDomNode = function () {\n    return react_dom_1.findDOMNode(this);\n  };\n  RenderLayer.__KONTUR_REACT_UI__ = 'RenderLayer';\n  RenderLayer.propTypes = {\n    active: function active(props, propName, componentName) {\n      var active = props.active,onClickOutside = props.onClickOutside,onFocusOutside = props.onFocusOutside;\n      if (active && !(onClickOutside || onFocusOutside)) {\n        return new Error(\"[\" + componentName + \"]: using the component without either 'onClickOutside' or 'onFocusOutside' callback is pointless.\");\n      }\n    } };\n\n  RenderLayer.defaultProps = {\n    active: true };\n\n  return RenderLayer;\n}(React.Component);\nexports[\"default\"] = RenderLayer;"]},"metadata":{},"sourceType":"script"}