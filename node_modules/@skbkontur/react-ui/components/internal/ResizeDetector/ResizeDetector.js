"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var React = tslib_1.__importStar(require("react"));
var ResizeDetector_module_less_1 = tslib_1.__importDefault(require("./ResizeDetector.module.css"));
var ResizeDetector = /** @class */function (_super) {
  tslib_1.__extends(ResizeDetector, _super);
  function ResizeDetector() {
    var _this = _super !== null && _super.apply(this, arguments) || this;
    _this.iframeWindow = null;
    _this.handleResize = function (event) {
      if (_this.props.onResize) {
        _this.props.onResize(event);
      }
    };
    _this.iframeRef = function (iframe) {
      if (iframe && iframe.contentWindow) {
        _this.iframeWindow = iframe.contentWindow;
      }
    };
    return _this;
  }
  ResizeDetector.prototype.componentDidMount = function () {
    if (this.iframeWindow) {
      this.iframeWindow.addEventListener('resize', this.handleResize);
    }
  };
  ResizeDetector.prototype.render = function () {
    return React.createElement("div", { className: ResizeDetector_module_less_1["default"].root },
    React.createElement("iframe", { ref: this.iframeRef, className: ResizeDetector_module_less_1["default"].iframe }),
    React.createElement("div", { className: ResizeDetector_module_less_1["default"].content }, this.props.children));
  };
  ResizeDetector.__KONTUR_REACT_UI__ = 'ResizeDetector';
  return ResizeDetector;
}(React.Component);
exports["default"] = ResizeDetector;