{"version":3,"sources":["getCities.js"],"names":["kladr","require","delay","ms","v","Promise","resolve","setTimeout","citiesFilterPredicate","query","city","Id","toString","City","toLowerCase","includes","maxItems","getCities","items","filter","result","slice","foundItems","totalCount","length","then"],"mappings":"mEAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,cAAD,CAArB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,EAAE,UAAI,UAAAC,CAAC,UAAI,IAAIC,OAAJ,CAAY,UAAAC,OAAO,UAAIC,UAAU,CAACD,OAAD,EAAUH,EAAV,EAAcC,CAAd,CAAd,EAAnB,CAAJ,EAAL,EAAhB;;AAEA,IAAMI,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAAC,KAAK,UAAI,UAAAC,IAAI;AACzCA,MAAAA,IAAI,CAACC,EAAL,CAAQC,QAAR,OAAuBH,KAAvB,IAAgCC,IAAI,CAACG,IAAL,CAAUC,WAAV,GAAwBC,QAAxB,CAAiCN,KAAK,CAACK,WAAN,EAAjC,CADS,GAAR,EAAnC;;AAGA,IAAME,QAAQ,GAAG,CAAjB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAR,KAAK,EAAI;AACzB,MAAMS,KAAK,GAAGlB,KAAK,CAACmB,MAAN,CAAaX,qBAAqB,CAACC,KAAD,CAAlC,CAAd;AACA,MAAMW,MAAM,GAAGF,KAAK,CAACG,KAAN,CAAY,CAAZ,EAAeL,QAAf,CAAf;AACA,SAAOX,OAAO,CAACC,OAAR,CAAgB;AACrBgB,IAAAA,UAAU,EAAEF,MADS;AAErBG,IAAAA,UAAU,EAAEL,KAAK,CAACM,MAFG,EAAhB;AAGJC,EAAAA,IAHI,CAGCvB,KAAK,CAAC,GAAD,CAHN,CAAP;AAID,CAPD,C;;AASee,S","sourcesContent":["const kladr = require('./kladr.json');\r\n\r\nconst delay = ms => v => new Promise(resolve => setTimeout(resolve, ms, v));\r\n\r\nconst citiesFilterPredicate = query => city =>\r\n  city.Id.toString() === query || city.City.toLowerCase().includes(query.toLowerCase());\r\n\r\nconst maxItems = 5;\r\n\r\nconst getCities = query => {\r\n  const items = kladr.filter(citiesFilterPredicate(query));\r\n  const result = items.slice(0, maxItems);\r\n  return Promise.resolve({\r\n    foundItems: result,\r\n    totalCount: items.length,\r\n  }).then(delay(300));\r\n};\r\n\r\nexport default getCities;\r\n"]}